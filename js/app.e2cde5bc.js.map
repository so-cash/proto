{"version":3,"file":"js/app.e2cde5bc.js","mappings":"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","sources":["webpack://front/./src/components/EthAvatarIcon.vue","webpack://front/./src/lib/blockies.js","webpack://front/src/components/EthAvatarIcon.vue","webpack://front/./src/components/EthAvatarIcon.vue?c353","webpack://front/./src/components/EthAvatarIcon.vue?a9b4","webpack://front/./src/components/WalletCustodySelection.vue","webpack://front/src/components/WalletCustodySelection.vue","webpack://front/./src/components/WalletCustodySelection.vue?4fe6","webpack://front/./src/components/WalletCustodySelection.vue?b326","webpack://front/./src/components/WalletsPage.vue","webpack://front/src/components/WalletsPage.vue","webpack://front/./src/components/WalletsPage.vue?a185","webpack://front/./src/components/WalletsPage.vue?411e","webpack://front/./src/lib/async-local-storage.js","webpack://front/./src/lib/api.js","webpack://front/./src/lib/consts.js","webpack://front/./src/lib/eventlog-formatter.js","webpack://front/./src/lib/numbers.js","webpack://front/./src/App.vue","webpack://front/./src/components/AppMenu.vue","webpack://front/src/components/AppMenu.vue","webpack://front/./src/components/AppMenu.vue?8696","webpack://front/./src/components/AppMenu.vue?79a7","webpack://front/./src/components/Configuration.vue","webpack://front/./src/lib/files.js","webpack://front/src/components/Configuration.vue","webpack://front/./src/components/Configuration.vue?5ad1","webpack://front/./src/components/Configuration.vue?9f43","webpack://front/./src/components/BankPage.vue","webpack://front/./src/components/ExplorerLink.vue","webpack://front/src/components/ExplorerLink.vue","webpack://front/./src/components/ExplorerLink.vue?d2f9","webpack://front/./src/components/ExplorerLink.vue?5cc8","webpack://front/src/components/BankPage.vue","webpack://front/./src/components/BankPage.vue?6ce7","webpack://front/./src/components/BankPage.vue?5aa9","webpack://front/./src/components/AccountsPage.vue","webpack://front/src/components/AccountsPage.vue","webpack://front/./src/components/AccountsPage.vue?3471","webpack://front/./src/components/AccountsPage.vue?ec66","webpack://front/./src/components/WalletPassword.vue","webpack://front/src/components/WalletPassword.vue","webpack://front/./src/components/WalletPassword.vue?e45e","webpack://front/./src/components/WalletPassword.vue?6a74","webpack://front/./src/components/EventLogs.vue","webpack://front/src/components/EventLogs.vue","webpack://front/./src/components/EventLogs.vue?3d9a","webpack://front/./src/components/EventLogs.vue?f11c","webpack://front/./src/components/Snackbars.vue","webpack://front/src/components/Snackbars.vue","webpack://front/./src/components/Snackbars.vue?9f07","webpack://front/./src/components/Snackbars.vue?e493","webpack://front/src/App.vue","webpack://front/./src/App.vue?51dd","webpack://front/./src/App.vue?0e40","webpack://front/./src/plugins/vuetify.js","webpack://front/./src/main.js","webpack://front/./src/lib/oauth2.js","webpack://front/./src/store.js","webpack://front/webpack/bootstrap","webpack://front/webpack/runtime/amd options","webpack://front/webpack/runtime/chunk loaded","webpack://front/webpack/runtime/compat get default export","webpack://front/webpack/runtime/define property getters","webpack://front/webpack/runtime/global","webpack://front/webpack/runtime/hasOwnProperty shorthand","webpack://front/webpack/runtime/make namespace object","webpack://front/webpack/runtime/node module decorator","webpack://front/webpack/runtime/jsonp chunk loading","webpack://front/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('img',{ref:\"container\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { create } from \"ethereum-blockies\";\n\nexport function createIcon(address) {\n  if (!address) address = \"0x\" // the icon of the zero address;\n  const canvas = create({\n    // All options are optional\n    seed: address.toLowerCase(), // seed used to generate icon data, default: random\n    // color: \"#dfe\", // to manually specify the icon color, default: random\n    bgcolor: \"#fff\", // choose a different background color, default: random\n    size: 16, // width/height of the icon in blocks, default: 8\n    scale: 4, // width/height of each block in pixels, default: 4\n    spotcolor: \"#000\", // each pixel has a 13% chance of being of a third color,\n    // default: random. Set to -1 to disable it. These \"spots\" create structures\n    // that look like eyes, mouths and noses.\n  });\n  return canvas;\n}\n","<template>\n  <img ref=\"container\">\n</template>\n\n<script>\nimport { createIcon } from \"../lib/blockies\";\nexport default {\n  props: {\n    value: undefined,\n  },\n  mounted() {\n    this.setCanvas(this.value);\n  },\n  computed: {\n    address() {\n      return this.value;\n    },\n  },\n  watch: {\n    address(v) {\n      this.setCanvas(v);\n    },\n  },\n  methods: {\n    setCanvas(address) {\n      let container = this.$refs.container;\n      // console.log(\"EthAvatar\", container, address);\n      if (!container) return;\n      // container = container.parentNode;\n      // // removing existing content\n      // while (container.hasChildNodes())\n      //   container.removeChild(container.firstElementChild);\n      // container.appendChild(createIcon(address));\n      container.src = createIcon(address).toDataURL();\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EthAvatarIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EthAvatarIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EthAvatarIcon.vue?vue&type=template&id=ba804062&\"\nimport script from \"./EthAvatarIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./EthAvatarIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div></div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { addVisitedWallet, getFirstWallet } from \"./WalletsPage.vue\";\n\nexport default {\n  props: {\n    value: Boolean\n  },\n  async mounted() {\n    await this.checkAndReceiveAddress();\n  },\n  data() {\n    return {\n\n    }\n  },\n  watch: {\n    value(newV, oldV) {\n      if (newV && !oldV) { // change to true\n        this.forwardToCustodyUi()\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\"goToPage\", \"applyCurrentWalletAddress\"]),\n\n    async forwardToCustodyUi() {\n      const vars = this.$store.getters.variables;\n      if (!vars.walletCustodyUI) return;\n      const target = new URL(vars.walletCustodyUI);\n      target.searchParams.append(\"action\", \"select\");\n      target.searchParams.append(\"redirect_uri\", window.location.href);\n      window.location.assign(target.href);\n    },\n    async checkAndReceiveAddress() {\n      const url = new URL(window.location)\n      if (url.searchParams.has(\"address\")) {\n        await this.applyCurrentWalletAddress(url.searchParams.get(\"address\"));\n        addVisitedWallet(url.searchParams.get(\"address\"));\n        url.searchParams.delete(\"address\")\n        window.history.replaceState(null, \"\", url.href);\n      } else { // see if we can use the first address from the storeage\n        const first = await getFirstWallet();\n        if(first) {\n          await this.applyCurrentWalletAddress(first);\n        } else {\n          await this.applyCurrentWalletAddress(\"0x0000000000000000000000000000000000000000\")\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletCustodySelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletCustodySelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletCustodySelection.vue?vue&type=template&id=3ea8e4e8&\"\nimport script from \"./WalletCustodySelection.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletCustodySelection.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('custody-selection',{attrs:{\"name\":\"in-page\",\"value\":_vm.activateWalletSelection}}),_c('v-row',[_vm._l((_vm.visitedWalletsDetails),function(wallet){return _c('v-col',{key:wallet.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"},on:{\"click\":function($event){return _vm.selectThisWallet(wallet.address)}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('eth-avatar-icon',{attrs:{\"value\":wallet.address}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(wallet.address)+\" \")]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.toNumber(_vm.toGWei(wallet.balance)))+\" GWei \")])],1)],1)],1)}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){_vm.activateWalletSelection=true}}},[_vm._v(\"Visit the custody service to get a new wallet\")])],1)],1),(_vm.currentAddress)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-subtitle',[_vm._v(\"Crypto transfer - for convenience only\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"amount of GWei\",\"type\":\"number\"},model:{value:(_vm.cryptoGWeiAmount),callback:function ($$v) {_vm.cryptoGWeiAmount=$$v},expression:\"cryptoGWeiAmount\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"target account address\",\"type\":\"text\"},model:{value:(_vm.cryptoTransferTarget),callback:function ($$v) {_vm.cryptoTransferTarget=$$v},expression:\"cryptoTransferTarget\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.executeCryptoTransfer}},[_vm._v(\"Ok\")])],1)],1)],1)],1):_vm._e()],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n    <custody-selection name=\"in-page\" :value=\"activateWalletSelection\"></custody-selection>\n      <v-row>\n        <v-col cols=\"12\" v-for=\"wallet of visitedWalletsDetails\" :key=\"wallet.address\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\" @click=\"selectThisWallet(wallet.address)\">\n            <v-row>\n              <v-col cols=\"1\" align-self=\"center\">\n                <eth-avatar-icon :value=\"wallet.address\"></eth-avatar-icon>\n              </v-col>\n              <v-col cols=\"6\" align-self=\"center\">\n                {{wallet.address}}\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                {{ toNumber(toGWei(wallet.balance))}} GWei\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" >\n          <v-card outlined elevation=\"3\" class=\"pa-3\">\n            <v-btn color=\"secondary\" @click=\"activateWalletSelection=true\">Visit the custody service to get a new wallet</v-btn>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"currentAddress\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\">\n            <v-card-subtitle>Crypto transfer - for convenience only</v-card-subtitle>\n            <v-row>\n              <v-col cols=\"5\" align-self=\"center\">\n                <v-text-field label=\"amount of GWei\" type=\"number\" v-model=\"cryptoGWeiAmount\"></v-text-field></v-col>\n              <v-col cols=\"6\" align-self=\"center\">\n                <v-text-field label=\"target account address\" type=\"text\" v-model=\"cryptoTransferTarget\" ></v-text-field></v-col>\n              <v-col cols=\"1\" align-self=\"center\">\n                <v-btn @click=\"executeCryptoTransfer\" >Ok</v-btn></v-col>\n            </v-row>\n            \n           \n            \n          </v-card>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { storage, ethereum, storageNames, ensureFlag, connectToNode } from \"../lib/api\";\nimport { toWei, toNumber, toGWei } from \"../lib/numbers\";\nimport { notifySuccess, walletAuthDialog } from '../store';\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nimport { Crypto } from \"@saturn-chain/dlt-tx-data-functions\";\n\n\nconst visitedWalletName = storageNames.walletAddresses;\nexport default {\n  components: {\n    EthAvatarIcon, \n    CustodySelection: () => import(\"./WalletCustodySelection.vue\") // Very odd behaviour but this is to avoid the did you register the component correctly? For recursive components, make sure to provide the \"name\" option error\n  },\n  data() {\n    return {\n      transactionInProgress: false,\n      visitedWallets: [],\n      visitedWalletsDetails: [],\n      activateWalletSelection: false,\n      cryptoGWeiAmount: undefined,\n      cryptoTransferTarget: undefined,\n    }\n  },\n  async mounted() {\n    this.visitedWallets = await storage().getItem(visitedWalletName) || [];\n    await this.fillWalletDetails();\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n  },\n  methods: {\n    toGWei, toNumber,\n    ...mapActions([ \"applyCurrentWalletAddress\"]),\n    async fillWalletDetails() {\n      const eth = ethereum();\n      const arrayResult = [];\n      for (const address of this.visitedWallets) {\n        const detail = {address};\n        detail.balance = await eth.getBalance(address)\n        arrayResult.push(detail);\n      }\n      this.visitedWalletsDetails = arrayResult;\n    },\n\n    async selectThisWallet(address) {\n      await addVisitedWallet(address);\n      await this.applyCurrentWalletAddress(address);\n    },\n\n    async executeCryptoTransfer() {\n      if (!this.cryptoGWeiAmount || this.cryptoGWeiAmount<=0) return;\n      if (!this.cryptoTransferTarget) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = toWei(this.cryptoGWeiAmount, \"gwei\");\n        await Crypto.transfer(intf.send({maxGas:30000, amount: \"0x\"+amount.toString(16) }), this.cryptoTransferTarget);\n        notifySuccess(`Transfer of ${this.cryptoGWeiAmount} GWei to ${this.cryptoTransferTarget} completed.`)\n        await this.fillWalletDetails();\n        this.cryptoGWeiAmount = undefined;\n        this.cryptoTransferTarget = undefined;\n      })\n    }\n  }\n}\nexport async function addVisitedWallet(address) {\n  let current = await storage().getItem(visitedWalletName) || [];\n  current = current.filter(a=>a!==address); // remove from the array if it exists\n  current.unshift(address) ; // add in front of the array\n  await storage().setItem(visitedWalletName, current);\n}\nexport async function getFirstWallet() {\n  const current = await storage().getItem(visitedWalletName) || [];\n  if(current && Array.isArray(current) && current.length>0) {\n    return current[0];\n  } else return undefined;\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletsPage.vue?vue&type=template&id=3ba05175&\"\nimport script from \"./WalletsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nexport class AsyncLocalStorage {\n  constructor(keys) {\n    this.keyList = keys || [];\n  }\n  async getItem(key) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    const v = window.localStorage.getItem(key);\n    if (!v) return undefined;\n    return JSON.parse(v);\n  }\n  async setItem(key, value) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    if (!value) window.localStorage.removeItem(key)\n    else window.localStorage.setItem(key, JSON.stringify(value));\n    return;\n  }\n  async getAll() {\n    const result = {};\n    for (const key of this.keyList) {\n      result[key] = await this.getItem(key);\n    }\n    return result\n  }\n  async setAll(group) {\n    for (const key of Object.keys(group)) {\n      await this.setItem(key, group[key]);\n    }\n  }\n}\n","import { WalletCustodyApiImpl } from \"@saturn-chain/wallet-custody-rest-api\";\nimport {  } from \"@saturn-chain/dlt-tx-data-functions\";\nimport {  } from \"@saturn-chain/smart-contract\";\nimport { Web3CustodyFunctionProvider } from \"@saturn-chain/web3-custody-functions\";\nimport CashBankContracts from \"sc-bank-account\";\n\nimport Web3 from \"web3\";\nimport { AsyncLocalStorage } from \"./async-local-storage\";\nimport { mapAddr } from \"./eventlog-formatter\";\n// import { toNumber, toGWei, toWei } from \"./numbers\";\n\nlet currentAccessToken;\nexport function setAccessToken(token) {\n  currentAccessToken = token;\n  console.log(\"To be removed when currentAccessToken is used\", currentAccessToken);\n}\n\n\nexport const storageNames = {\n  walletAddresses: \"bank-visited-wallets\",\n  bankAddress: \"bank-smart-contract-address\",\n  accountAddresses: \"bank-account-addresses\",\n  registeredBankAddresses:  \"bank-linked-banks-registered\",\n  mainConfig: \"application-configuration-variables\",\n}\n\nconst _localStorage = new AsyncLocalStorage(Object.values(storageNames));\nexport function storage() {\n  return _localStorage;\n}\n\n\nlet initialized = false;\nlet variables = undefined;\nlet web3 = new Web3();\nlet custodyApi = new WalletCustodyApiImpl(\"http://pseudo\", \"eth\");\nlet IOUContract = CashBankContracts.get(\"IOU\");\nlet iouInstance = IOUContract.at(\"\");\nlet BankContract = CashBankContracts.get(\"CommercialBankCash\");\nlet AccountContract = CashBankContracts.get(\"BankAccount\");\n\nexport async function initApis(_variables) {\n  variables = _variables;\n  console.log(\"Initializing api with variables\", {...variables});\n  const ws = new Web3.providers.WebsocketProvider(variables.web3WebSocketUrl, {reconnect: {auto: true, delay:400, onTimeout: true}})\n  web3 = new Web3(ws);\n  custodyApi = new WalletCustodyApiImpl(variables.walletCustodyService, \"eth\");\n  iouInstance = IOUContract.at(variables.IOUAddress);\n  mapAddr(iouInstance.deployedAt, \"IOU\");\n  const chainId = await web3.eth.getChainId();\n  console.log(\"Connected to chain\", chainId);\n  initialized = true;\n}\n\nfunction requireInitialized() {\n  if (!initialized) throw new Error(\"Use the initApis() function first\");\n}\n\nexport function connectToNode(address, asyncAuthFunction, newWeb3 = false) {\n  requireInitialized();\n  let _web3 = web3;\n  // important node: the newWeb3 is a flg to force the creation of a new Web3 instance.\n  // this is important for situations where the json-rpc id is duplicated because two requests gets submitted at the same time\n  // So one of the stream is better having a second instance ! \n  if (newWeb3) {\n    const ws = new Web3.providers.WebsocketProvider(variables.web3WebSocketUrl, {reconnect: {auto: true, delay:400, onTimeout: true}})\n    _web3 = new Web3(ws);\n  }\n  if (! _web3.utils.isAddress(address)) throw new Error(\"Provide a valid Ethereum address\");\n  if (typeof asyncAuthFunction !== \"function\") throw new Error(\"Expect an asynchronous function to ba called to authenticate the wallet\");\n  const intf = new Web3CustodyFunctionProvider(\n    _web3.currentProvider,\n    custodyApi,\n    address,\n    asyncAuthFunction\n  )\n  return intf;\n}\n\nexport function ethereum() {\n  requireInitialized();\n  \n  return web3.eth;\n}\nexport function toHex(v) {\n  requireInitialized();\n  return web3.utils.toHex(v);\n}\nexport const Iban = {\n  from: (address)=>web3.eth.Iban.toIban(address),\n  to: (iban)=>web3.eth.Iban.toAddress(iban),\n} \n\nexport function custody() {\n  requireInitialized();\n  return custodyApi;\n}\n\nexport function iou() {\n  requireInitialized();\n  return iouInstance;\n}\n\nexport function bankContract() {\n  return BankContract;\n}\n\nexport function accountContract() {\n  return AccountContract;\n}\n\nexport async function ensureFlag(component, flagName, execFunc) {\n  try {\n    component[flagName] = true;\n    await execFunc()\n  } finally {\n    component[flagName] = false;\n  }\n}","export const ZeroAccount = \"0x0000000000000000000000000000000000000000\";","import { ZeroAccount } from \"./consts\";\n\nexport function calcEventLogUniqueId(protocol, block, transaction, log) {\n  return (\n    protocol + \":\" +\n    String(block).padStart(8, \"0\") +\n    String(transaction).padStart(3, \"0\") +\n    String(log).padStart(3, \"0\")\n  );\n}\n\nconst mapAddress = new Map();\nmapAddr(ZeroAccount, \"@Zero\");\n\nfunction low(v) {\n  if(v) return v.toLowerCase() \n  return v;\n}\n\nexport function mapAddr(address, name) {\n  mapAddress.set(low(address), name);\n}\n\nexport function formatLog(prefix, log) {\n  if (typeof prefix === \"object\" && log === undefined) {\n    log = prefix;\n    prefix = undefined;\n  }\n  return formatEventLogActual(prefix, log);\n}\n\nfunction formatEventLogActual(prefix, log) {\n  if (!log.event) return;\n  const params = { ...log.returnValues };\n  for (const key of Object.keys(params)) {\n    if (Number.isInteger(Number.parseInt(key))) delete params[key];\n    if (mapAddress.has(low(params[key]))) params[key] = mapAddress.get(low(params[key]));\n  }\n  if (mapAddress.has(low(log.address)))\n    log.address = mapAddress.get(low(log.address)) || \"undefined\";\n  const paramsTxt = Object.keys(params)\n    .map((f) => `${f}:${params[f]}`)\n    .join(\", \");\n  return `LOG: ${prefix ? prefix + \": \" : \"\"}${log.blockNumber}/${\n    log.transactionIndex\n  }/${log.logIndex} ${log.address}.${log.event}(${paramsTxt})`;\n}\n\nexport function sortableId(log) {\n  if(!log) return \"\";\n  return calcEventLogUniqueId(\"eth\", log.blockNumber, log.transactionIndex, log.logIndex)\n}","import BigInt from \"bigint-polyfill\";\nimport { BigNumber } from \"bignumber.js\";\nexport const GWEI_FACTOR = Math.pow(10, 9)\nexport const ETH_FACTOR = Math.pow(10, 18)\n/**\n * Convert to BigNumber\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toWebBigInt(bi) {\n  return new BigNumber(bi);\n}\n\n/**\n * Convert to normal number\n * @param {BigNumber} bi \n * @returns Number\n */\nexport function toNumber(bi, decimals=2) {\n  // present in conventional format\n  return bi.toFormat(decimals, BigNumber.ROUND_DOWN, {decimalSeparator:'.', groupSeparator: \" \", groupSize: 3});\n}\n\n/**\n * Convert wei to gwei\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toGWei(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(GWEI_FACTOR));\n}\n/**\n * Convert wei to Ether\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toEther(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(ETH_FACTOR));\n}\n\nexport function toWei(bi, from) {\n  const n = toWebBigInt(bi);\n  if(from === \"ether\") return n.multipliedBy(ETH_FACTOR)\n  if(from === \"gwei\") return n.multipliedBy(GWEI_FACTOR)\n  return n\n}\n\n\n/**\n * convert to the polyfilled big int\n * @param {any} bi\n * @returns {BigInt} \n */\n export function toBigInt(bi) {\n  return new BigInt(bi);\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('wallet-password',{ref:\"unique-wallet-password-id\"}),_c('snackbars',{ref:\"snackbars\"}),(!_vm.configurationOk)?_c('div',[_c('v-main',[_c('v-container',{staticClass:\"py-8 px-6\",attrs:{\"fluid\":\"\"}},[_c('configuration',{model:{value:(_vm.configurationOk),callback:function ($$v) {_vm.configurationOk=$$v},expression:\"configurationOk\"}})],1)],1)],1):_c('div',[_c('app-menu'),_c('v-main',[_c('v-container',{staticClass:\"py-8 px-6\",attrs:{\"fluid\":\"\"}},[(_vm.selectedItem == 'bank')?_c('bank-page'):_vm._e(),(_vm.selectedItem == 'account')?_c('accounts-page'):_vm._e(),(_vm.selectedItem == 'config')?_c('configuration'):_vm._e(),(_vm.selectedItem == 'wallets')?_c('wallets-page'):_vm._e(),(_vm.selectedItem == 'eventlog')?_c('event-logs'):_vm._e()],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawer),expression:\"!drawer\"}],attrs:{\"fab\":\"\",\"elevation\":\"3\",\"top\":\"\",\"left\":\"\"},on:{\"click\":function($event){_vm.drawer=!_vm.drawer}}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.currentAddress}})],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('wallet-custody-selection',{attrs:{\"value\":_vm.activateWalletSelection}}),_c('v-sheet',{staticClass:\"pa-4\",attrs:{\"color\":\"grey lighten-4\"}},[_c('v-avatar',{staticClass:\"mb-4\",attrs:{\"color\":\"grey darken-1\",\"size\":\"64\",\"rounded\":\"\"}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.currentAddress}})],1),(_vm.currentAddress)?_c('div',[_c('div',[_vm._v(_vm._s(_vm.currentAddress))]),_c('div',[_vm._v(_vm._s(_vm.toNumber(_vm.toGWei(_vm.walletBalance)))+\" GWei\")])]):_c('div',[_c('a',{on:{\"click\":function($event){_vm.activateWalletSelection = true}}},[_vm._v(\"Select a wallet\")])])],1),_c('v-divider'),_c('v-list',[_c('v-list-item-group',{attrs:{\"value\":_vm.value,\"mandatory\":\"\",\"color\":\"primary\"},on:{\"change\":function($event){return _vm.onChangeEvt($event)}}},_vm._l((_vm.links),function([icon, text, name]){return _c('v-list-item',{key:icon,attrs:{\"link\":\"\"}},[(name=='eventlog' && _vm.evtCount>0)?_c('v-list-item-icon',[_c('v-badge',{attrs:{\"content\":_vm.evtCount,\"color\":\"primary\"}},[_c('v-icon',[_vm._v(_vm._s(icon))])],1)],1):_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(text))])],1)],1)}),1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn fab elevation=\"3\" top left @click=\"drawer=!drawer\" v-show=\"!drawer\" > <eth-avatar-icon :value=\"currentAddress\"></eth-avatar-icon></v-btn>\n  <v-navigation-drawer v-model=\"drawer\" app >\n      <wallet-custody-selection :value=\"activateWalletSelection\"></wallet-custody-selection>\n      <v-sheet color=\"grey lighten-4\" class=\"pa-4\">\n        <v-avatar class=\"mb-4\" color=\"grey darken-1\" size=\"64\" rounded=\"\">\n          <eth-avatar-icon :value=\"currentAddress\"></eth-avatar-icon>\n        </v-avatar>\n\n        <div v-if=\"currentAddress\">\n          <div>{{currentAddress}}</div>\n          <div>{{ toNumber(toGWei(walletBalance)) }} GWei</div>\n        </div>\n        <div v-else><a @click=\"activateWalletSelection = true\">Select a wallet</a></div>\n      </v-sheet>\n\n      <v-divider></v-divider>\n\n      <v-list>\n        <v-list-item-group :value=\"value\" @change=\"onChangeEvt($event)\" mandatory color=\"primary\">\n          <v-list-item v-for=\"[icon, text, name] in links\" :key=\"icon\" link>\n            <v-list-item-icon v-if=\"name=='eventlog' && evtCount>0\"> <v-badge :content=\"evtCount\" color=\"primary\"><v-icon>{{ icon }}</v-icon></v-badge> </v-list-item-icon>\n            <v-list-item-icon v-else><v-icon>{{ icon }}</v-icon> </v-list-item-icon>\n\n            <v-list-item-content>\n              <v-list-item-title> {{ text }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport WalletCustodySelection from \"./WalletCustodySelection.vue\";\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nimport { ethereum } from \"../lib/api\";\nimport { ZeroAccount } from '../lib/consts';\nimport { toGWei, toNumber } from \"../lib/numbers\";\n\nexport default {\n  components: {\n    WalletCustodySelection,\n    EthAvatarIcon,\n  },\n  props: ['value'],\n  data: ()=>({\n    drawer: null,\n    links: [\n      [\"mdi-bank\", \"Bank status\", \"bank\"],\n      [\"mdi-account-cash\", \"Client account\", \"account\"],\n      [\"mdi-wallet\", \"Wallets\", \"wallets\"],\n      [\"mdi-radar\", \"Confirmations\", \"eventlog\"],\n      [\"mdi-cog\", \"Configuration\", \"config\"],\n    ],\n    activateWalletSelection: false,\n    walletBalance: \"\",\n  }),\n  methods: {\n    toGWei, toNumber,\n    ...mapActions([\"goToPage\"]),\n    onChangeEvt(ev) {\n      //this.$emit('input', this.links[ev][2])\n      this.goToPage(this.links[ev][2]);\n    },\n    async getWalletBalance() {\n      console.log(\"Getting wallet balance for \", this.currentAddress);\n      if (this.currentAddress) {\n        this.walletBalance = await ethereum().getBalance(this.currentAddress);\n      }\n    },\n  },\n  computed: {\n    currentAddress() {\n      const address = this.$store.getters.currentWalletAddress;\n      if (address == ZeroAccount) return null;\n      else return address;\n    },\n    evtCount() {\n      return this.$store.getters.newEventsCount;\n    },\n  },\n  watch: {\n    currentAddress() {\n      this.getWalletBalance();\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppMenu.vue?vue&type=template&id=476ab2ae&\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Prepare the configuration\")])]),_vm._l((_vm.asArrayOf),function(v){return _c('v-col',{key:v.name,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-row',{staticClass:\"align-center align-self-baseline\"},[_c('v-col',{attrs:{\"cols\":\"6\",\"outlined\":\"\",\"tile\":\"\"}},[_c('v-text-field',{attrs:{\"label\":v.name,\"append-icon\":\"mdi-close\",\"rules\":[_vm.rules.notNull, v.valid]},on:{\"click:append\":function($event){_vm.variables[v.name]=''}},model:{value:(_vm.variables[v.name]),callback:function ($$v) {_vm.$set(_vm.variables, v.name, $$v)},expression:\"variables[v.name]\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"outlined\":\"\",\"tile\":\"\"}},[_c('span',[_vm._v(_vm._s(v.desc))])])],1)],1)],1)})],2),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\"}},[(_vm.isConfigValid)?_c('v-icon',{attrs:{\"color\":\"green\",\"x-large\":\"\"}},[_vm._v(\"mdi-thumb-up\")]):_c('v-icon',{attrs:{\"color\":\"red\",\"x-large\":\"\"}},[_vm._v(\"mdi-thumb-down\")])],1),_c('v-col',{attrs:{\"cols\":\"11\"}},[(_vm.isConfigValid)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.saveConfiguration}},[_vm._v(\"Save configuration\")]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"},on:{\"click\":_vm.saveConfigToFile}},[_c('v-btn',[_vm._v(\"Download config\")])],1),_c('v-col',{attrs:{\"cols\":\"4\",\"align-self\":\"center\"}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"label\":\"place the file that contains the saved config\"},model:{value:(_vm.configFile),callback:function ($$v) {_vm.configFile=$$v},expression:\"configFile\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"},on:{\"click\":_vm.loadConfigFromFile}},[_c('v-btn',[_vm._v(\"Load config\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport function download(filename, text) {\n  var element = document.createElement('a');\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n  element.setAttribute('download', filename);\n\n  element.style.display = 'none';\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n}\n\n","<template>\n  <v-container>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <h1>Prepare the configuration</h1>\n        </v-col>\n        <v-col cols=\"12\" v-for=\"v in asArrayOf\" :key=\"v.name\">\n          <v-card outlined elevation=\"3\" class=\"pa-4\">\n            <v-row class=\"align-center align-self-baseline \">\n              <v-col cols=\"6\" outlined tile>\n                <v-text-field\n                  :label=\"v.name\"\n                  append-icon=\"mdi-close\"\n                  v-model=\"variables[v.name]\"\n                  :rules=\"[rules.notNull, v.valid]\"\n                  @click:append=\"variables[v.name]=''\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"6\" outlined tile>\n                <span>{{ v.desc }}</span>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"1\" >\n          <v-icon color=\"green\" x-large v-if=\"isConfigValid\">mdi-thumb-up</v-icon>\n          <v-icon color=\"red\" x-large v-else>mdi-thumb-down</v-icon>\n        </v-col>\n        <v-col cols=\"11\">\n          <v-btn color=\"primary\"\n            v-if=\"isConfigValid\"\n            @click=\"saveConfiguration\"\n          >Save configuration</v-btn>\n        </v-col>\n        <v-col cols=\"2\" align-self=\"center\" @click=\"saveConfigToFile\">\n          <v-btn >Download config</v-btn>\n        </v-col>\n        <v-col cols=\"4\" align-self=\"center\">\n          <v-file-input show-size label=\"place the file that contains the saved config\" v-model=\"configFile\"></v-file-input>\n        </v-col>\n        <v-col cols=\"6\" align-self=\"center\" @click=\"loadConfigFromFile\">\n          <v-btn >Load config</v-btn>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { storage, storageNames } from \"../lib/api\";\nimport { download } from \"../lib/files\";\n\nfunction isValidUrl(url) {\n  if(!url) return false;\n  try {\n    const u = new URL(url)\n    return !!u\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction isValidEthereumAddress(address) {\n  if (!address) return false;\n  if (typeof address !==\"string\") return false;\n  return (address.length === 42 && address.startsWith(\"0x\"));\n}\n\nconst storageName = storageNames.mainConfig;\nconst variableDefinitions = {\n  IOUAddress: {\n    typeof: \"string\",\n    order: 1,\n    desc: \"The address of the IOU smart contract in the blockchain\",\n    valid: v=>isValidEthereumAddress(v) || \"Enter an Ethereum address\",\n  },\n  walletCustodyService: {\n    typeof: \"string\",\n    order: 2,\n    desc: \"The url of the wallet custody service\",\n    valid: v=>isValidUrl(v) || 'Enter a valid url',\n  },\n  walletCustodyUI: {\n    typeof: \"string\",\n    order: 3,\n    desc: \"The url of the wallet custody interface\",\n    valid: v=>isValidUrl(v) || 'Enter a valid url',\n  },\n  web3WebSocketUrl: {\n    typeof: \"string\",\n    order: 4,\n    desc: \"The ws url of the web3 compatible node (typically infura url)\",\n    valid: v=>(v && isValidUrl(v) /*&& v.startsWith(\"ws\")*/)  || 'Enter a valid websocket url',\n  },\n  blockchainExplorer: {\n    typeof: \"string\",\n    order: 5,\n    desc: \"The blockchain explorer web site (typically etherscan). Should implements /tx/<tx>; /address/<address>; /token/<address>. Optional\",\n    valid: v=>(!v || isValidUrl(v)) || \"Optionally provide a valid url\"\n  }\n};\n\nexport default {\n  props: {\n    value: Boolean\n  },\n  data: () => {\n    return {\n      rules: {\n        notNull: (v)=>(v!==undefined && v!==null) || \"Cannot accept null\",\n      },\n      variables: {\n        // will be filled by the variable definitions\n      },\n      saved: false,\n      configFile: undefined,\n    };\n  },\n  async mounted() {\n    await this.getSourceOfVariables();\n  },\n  computed: {\n    asArrayOf() {\n      const allKeys = Object.keys(variableDefinitions);\n      return allKeys\n        .map((key) => ({\n          name: key,\n          typeof: variableDefinitions[key].typeof,\n          order: variableDefinitions[key].order,\n          desc: variableDefinitions[key].desc,\n          value: this.variables[key],\n          valid: variableDefinitions[key].valid,\n        }))\n        .sort((a, b) => a.order - b.order);\n    },\n    isConfigValid() {\n      for (const v of this.asArrayOf) {\n        // if (v.value===undefined || v.value===null) return false;\n        if (v.valid(v.value) !== true) return false;\n      }\n      return true;\n    }\n  },\n  watch: {\n    asArrayOf() {\n      this.saved = false;\n    },\n    saved() {\n      this.$emit('input', this.isConfigValid && this.saved);\n    }, \n    isConfigValid() {\n      this.$emit('input', this.isConfigValid && this.saved);\n    }\n  },\n  methods: {\n    ...mapActions([\"goToPage\", \"applyVariables\"]),\n    async getSourceOfVariables() {\n      let shouldBeSaved = false;\n      let config = undefined;\n      // first test the query string for the presence of config-url\n      const location = new URL(window.location);\n      if (location.searchParams.has(\"config-url\")) {\n        try {\n          const url = new URL(location.searchParams.get(\"config-url\"));\n          const res = await fetch(url.href);\n          const content = await res.json();\n          location.searchParams.delete(\"config-url\");\n          window.history.replaceState(null, \"\", location.href);\n          if (content[storageName]) { // we are loading a file with all attributes not just variables\n            config = content[storageName];\n            delete content[storageName]; \n            await storage().setAll(content); // save except the variables that will be displayed for validation\n          } else { // the file only contains the variables\n            config = content;\n          }\n        } catch (error) {\n          console.warn(\n            \"the config file is not usable\",\n            location.searchParams.get(\"config-url\"),\n            error\n          );\n        }\n      }\n\n      // then look into the local storage\n      if (!config) {\n        try {\n          const content = await storage().getItem(storageName);\n          if (!content)\n            throw new Error(\n              \"no configuration available in storage. key = \" + storageName\n            );\n          shouldBeSaved = true;\n          config = content;\n        } catch (error) {\n          console.warn(\"the config is not in storage\", error.message);\n        }\n      }\n\n      // else create an empty structure\n      if (!config) {\n        config = {};\n      }\n\n      // remove unexpected variables, add missing ones\n      const allKeys = Object.keys(variableDefinitions);\n      for (const key of Object.keys(config)) {\n        if (!allKeys.includes(key)) delete config[key];\n      }\n      for (const key of allKeys) {\n        if (!(key in config)) config[key] = \"\";\n      }\n\n      // set the component prop\n      this.variables = config;\n      if(shouldBeSaved) await this.saveConfiguration();\n    },\n    async saveConfiguration() {\n      try {\n        await storage().setItem(storageName, this.variables);\n        await this.applyVariables(this.variables);\n        this.saved = true;\n      } catch (error) {\n        console.error(\"Fail saving the configuration\", error)\n      }\n    },\n    async saveConfigToFile() {\n      const content = await storage().getAll();\n      const name = (location.origin + \"_\" + location.pathname).replace(/\\//g, \"_\") + \".json\"\n      download(name, JSON.stringify(content, null, 2));\n    },\n    async loadConfigFromFile() {\n      console.log(\"Config file\", this.configFile);\n      if (!this.configFile) return;\n      let content = await this.configFile.text();\n      content = JSON.parse(content);\n      console.log(\"content loaded\", content);\n      await storage().setAll(content)\n      await this.getSourceOfVariables()\n      // force a reload of the page after loading the config\n      window.location.reload();\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Configuration.vue?vue&type=template&id=1409723a&\"\nimport script from \"./Configuration.vue?vue&type=script&lang=js&\"\nexport * from \"./Configuration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"This Bank : \"+_vm._s(_vm.currency)+\" \")]),_vm._v(\"with \"+_vm._s(_vm.decimals)+\" decimals \")]),(!_vm.bankInstance)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"The instance of the bank does not exists or is unknown.\")]),_c('div',[_vm._v(\"If you have the address paste it here :\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"11\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"bank smart contract\",\"append-icon\":\"mdi-close\"},on:{\"click:append\":function($event){_vm.capturedBankAddress = ''}},model:{value:(_vm.capturedBankAddress),callback:function ($$v) {_vm.capturedBankAddress=$$v},expression:\"capturedBankAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.saveBankSmartContract(_vm.capturedBankAddress)}}},[_vm._v(\"Ok\")])],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_vm._v(\" If you do not have a bank instance in the blockchain create it now \")]),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.createBankInstance}},[_vm._v(\"Create the bank\")])],1)],1)],1):_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"Bank instance: \"),_c('expl-a',{attrs:{\"value\":_vm.bankInstance.deployedAt,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"Bank instance owner: \"),_c('expl-a',{attrs:{\"value\":_vm.owner}})],1)]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Total commercial money supply in circulation: \"),_c('span',[_vm._v(_vm._s(_vm.formatting.format(_vm.totalSupply)))])]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Total debt against other banks: \"),_c('span',{class:_vm.globalDebt<0?'red--text':'green--text'},[_vm._v(_vm._s(_vm.formatting.format(_vm.globalDebt)))])])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"List of registered banks\")]),_vm._v(\"that you trust with debt you will accept on them\")]),_vm._l((_vm.registeredBankDetails),function(bank){return _c('v-col',{key:bank.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-title',[_vm._v(\"Bank  \"),_c('expl-a',{attrs:{\"value\":bank.address,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"Owner: \"),_c('expl-a',{attrs:{\"value\":bank.owner}})],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('div',[_vm._v(\"Status: \"+_vm._s(bank.registered?\"Registered\":\"Not registered\"))]),_c('div',[_vm._v(\"We owe them: \"+_vm._s(_vm.formatting.format(bank.debtFromUs)))]),_c('div',[_vm._v(\"They owe us: \"+_vm._s(_vm.formatting.format(bank.debtToUs)))])]),(bank.debtToUs>0)?_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"end\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.confirmInterbankRepayment(bank.address, bank.debtToUs)}}},[_vm._v(\"Confirm you received the payment of \"+_vm._s(_vm.formatting.format(bank.debtToUs)))])],1):_vm._e()],1)],1)],1)}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-title',[_vm._v(\"Register a new bank\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"11\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"bank smart contract address\",\"append-icon\":\"mdi-close\"},on:{\"click:append\":function($event){_vm.capturedBankAddress = ''}},model:{value:(_vm.capturedBankAddress),callback:function ($$v) {_vm.capturedBankAddress=$$v},expression:\"capturedBankAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.addRegisteredBank(_vm.capturedBankAddress)}}},[_vm._v(\"Ok\")])],1)],1)],1)],1)],2)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.value)?_c('span',[_vm._t(\"default\",function(){return [_vm._v(_vm._s(_vm.value))]}),(_vm.blockchainExplorer)?_c('v-icon',{staticClass:\"pb-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.openInNew}},[_vm._v(\"mdi-open-in-new\")]):_c('v-icon',{staticClass:\"pb-1\",attrs:{\"small\":\"\",\"color\":\"red\",\"title\":\"Define the blockchain explorer!\"}},[_vm._v(\"mdi-open-in-new\")])],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"value\"><slot>{{value}}</slot>\n    <v-icon v-if=\"blockchainExplorer\" class=\"pb-1\" small color=\"primary\" @click=\"openInNew\">mdi-open-in-new</v-icon>\n    <v-icon v-else small color=\"red\" class=\"pb-1\" title=\"Define the blockchain explorer!\">mdi-open-in-new</v-icon>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    value:String,\n    type:String\n  },\n  computed: {\n    blockchainExplorer() {\n      return this.$store.getters.variables?.blockchainExplorer;\n    }\n  },\n  methods: {\n    openInNew() {\n      let action = \"address/\";\n      if(this.type) {\n        action=`${this.type}/`;\n      } else {\n        if(this.value.length > 42) action = \"tx/\"\n      }\n      action = action + this.value;\n      const url = new URL(action, this.blockchainExplorer);\n      window.open(url.href, \"_blank\");\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExplorerLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExplorerLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorerLink.vue?vue&type=template&id=1e8af94e&\"\nimport script from \"./ExplorerLink.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorerLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <h2>This Bank : {{ currency }} </h2>with {{ decimals }} decimals\n        </v-col>\n        <v-col cols=\"12\" v-if=\"!bankInstance\">\n          <div>The instance of the bank does not exists or is unknown.</div>\n          <div>If you have the address paste it here :</div>\n          <v-row>\n            <v-col cols=\"11\" align-self=\"center\">\n              <v-text-field\n                label=\"bank smart contract\"\n                append-icon=\"mdi-close\"\n                v-model=\"capturedBankAddress\"\n                @click:append=\"capturedBankAddress = ''\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"1\" align-self=\"center\">\n              <v-btn\n                color=\"secondary\"\n                small\n                @click=\"saveBankSmartContract(capturedBankAddress)\"\n                >Ok</v-btn\n              >\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" align-self=\"center\">\n              If you do not have a bank instance in the blockchain create it now\n            </v-col>\n            <v-col cols=\"6\" align-self=\"center\">\n              <v-btn color=\"primary\" small @click=\"createBankInstance\"\n                >Create the bank</v-btn\n              >\n            </v-col>\n          </v-row>\n        </v-col>\n        <v-col cols=\"12\" v-else>\n          <v-row>\n            <v-col cols=\"12\" >\n              <div>Bank instance: <expl-a :value=\"bankInstance.deployedAt\" type=\"token\"></expl-a></div>\n              <div>Bank instance owner: <expl-a :value=\"owner\"></expl-a></div>\n            </v-col>\n            <v-col cols=\"12\" >\n              Total commercial money supply in circulation:\n              <span >{{ formatting.format(totalSupply) }}</span>\n            </v-col>\n            <v-col cols=\"12\" >\n              Total debt against other banks:\n              <span :class=\"globalDebt<0?'red--text':'green--text'\">{{ formatting.format(globalDebt) }}</span>\n            </v-col>\n          </v-row>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-row>\n            <v-col cols=\"12\"><h2>List of registered banks</h2>that you trust with debt you will accept on them</v-col>\n            <v-col\n              cols=\"12\"\n              v-for=\"bank in registeredBankDetails\"\n              :key=\"bank.address\"\n            >\n              <v-card outlined elevation=\"3\" class=\"pa-4\">\n                <v-card-title>Bank  &nbsp;<expl-a :value=\"bank.address\" type=\"token\"></expl-a></v-card-title>\n                <div>Owner: <expl-a :value=\"bank.owner\"></expl-a></div>\n                <v-row>\n                  <v-col cols=\"6\">\n                    <div>Status: {{ bank.registered?\"Registered\":\"Not registered\" }}</div>\n                    <div>We owe them: {{ formatting.format(bank.debtFromUs) }}</div>\n                    <div>They owe us: {{ formatting.format(bank.debtToUs) }}</div>\n                  </v-col>\n                  <v-col cols=\"6\" align-self=\"end\" v-if=\"bank.debtToUs>0\">\n                    <v-btn @click=\"confirmInterbankRepayment(bank.address, bank.debtToUs)\">Confirm you received the payment of {{formatting.format(bank.debtToUs)}}</v-btn>\n                  </v-col>\n                </v-row>\n              </v-card>\n            </v-col>\n            <v-col cols=\"12\">\n              <v-card outlined elevation=\"3\" class=\"pa-4\">\n                <v-card-title>Register a new bank</v-card-title>\n                <v-row>\n                  <v-col cols=\"11\" align-self=\"center\">\n                    <v-text-field\n                      label=\"bank smart contract address\"\n                      append-icon=\"mdi-close\"\n                      v-model=\"capturedBankAddress\"\n                      @click:append=\"capturedBankAddress = ''\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"1\" align-self=\"center\">\n                    <v-btn\n                      color=\"secondary\"\n                      small\n                      @click=\"addRegisteredBank(capturedBankAddress)\"\n                      >Ok</v-btn\n                    >\n                  </v-col>\n                </v-row>\n              </v-card>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  ethereum,\n  connectToNode,\n  iou,\n  bankContract,\n  storage,\n  ensureFlag,\n  storageNames,\n} from \"../lib/api\";\nimport { mapActions } from \"vuex\";\nimport { notifySuccess, walletAuthDialog } from \"../store\";\nimport ExplA from \"./ExplorerLink.vue\";\n\nconst registeredBankName = storageNames.registeredBankAddresses;\n\nexport default {\n  components: {ExplA},\n  data() {\n    return {\n      transactionInProgress: false,\n      walletBalance: \"\",\n      currency: \"\",\n      decimals: 0,\n      owner: \"\",\n      capturedBankAddress: \"\",\n      registeredBanks: [],\n      registeredBankDetails: [],\n      globalDebt: 0,\n      totalSupply: 0,\n      formatting: new Intl.NumberFormat('en', {minimumFractionDigits: 2}),\n    };\n  },\n  async mounted() {\n    await this.$nextTick() // needed to delay the variables initializtion after the loading of the page\n    this.registeredBanks = await storage().getItem(registeredBankName) || [];\n    try {\n      await this.getBankCurrencyFromIOU();\n      await this.getIOUGlobalDebt();\n      await this.getBankDetails();\n      await this.getRegisteredBankDetails();\n    } catch (error) {\n      console.error(\"Failed initializing\", error)\n    }\n    this.formatting = new Intl.NumberFormat('en', {minimumFractionDigits: this.decimals , style: this.currency?\"currency\":undefined, currency: this.currency || undefined});\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n    bankInstance() {\n      if (this.$store.getters.bankSmartContract)\n        return bankContract().at(this.$store.getters.bankSmartContract);\n      else return undefined;\n    },\n  },\n  watch: {\n    async currentAddress() {\n      await this.getWalletBalance();\n    },\n    bankInstance(v) {\n      if (v) {\n        this.getIOUGlobalDebt();\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\"authenticateWallet\", \"saveBankSmartContract\"]),\n\n    async getWalletBalance() {\n      console.log(\"Getting wallet balance for \", this.currentAddress);\n      if (this.currentAddress) {\n        this.walletBalance = await ethereum().getBalance(this.currentAddress);\n      }\n    },\n    async getBankCurrencyFromIOU() {\n      if (!this.currentAddress) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      this.currency = await iou().symbol(intf.call());\n      this.decimals = Number.parseInt(await iou().decimals(intf.call()));\n    },\n\n    async createBankInstance() {\n      if (!this.currentAddress) return;\n      if (this.bankInstance) return; // do not create it twice\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const inst = await bankContract().deploy(\n          intf.newi({ maxGas: 3000000 }),\n          this.currency,\n          this.decimals,\n          iou().deployedAt\n        );\n        await this.saveBankSmartContract(inst.deployedAt);\n        notifySuccess(\"The bank smart contract has beed created.\")\n      })\n    },\n    async getBankDetails() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        this.owner = await this.bankInstance.owner(intf.call());\n        this.totalSupply = Number.parseFloat(await this.bankInstance.totalSupply(intf.call()));\n        this.totalSupply = this.totalSupply / 10**this.decimals;\n        console.log(\"Bank owner\", this.owner);\n      }\n    },\n    async getIOUGlobalDebt() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const unsigned = await iou().balanceOf(\n          intf.call(),\n          this.bankInstance.deployedAt\n        );\n        const sign = await iou().balanceSignOf(\n          intf.call(),\n          this.bankInstance.deployedAt\n        );\n        console.log(\"getIOUGlobalDebt\", sign, unsigned);\n        this.globalDebt =\n          (Number.parseInt(sign) * Number.parseInt(unsigned)) /\n          10 ** this.decimals;\n      }\n    },\n    async getRegisteredBankDetails() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n\n        const arrayResult = [];\n        for (const bank of this.registeredBanks) {\n          const detail = { address: bank };\n          const their = bankContract().at(bank);\n          detail.owner = await their.owner(intf.call());\n          detail.registered = await this.bankInstance.isBankRegistered(intf.call(), bank);\n          detail.debtFromUs = Number.parseFloat(\n            await iou().bankOwesTo(\n              intf.call(),\n              this.bankInstance.deployedAt,\n              bank\n            )\n          );\n          detail.debtToUs = Number.parseFloat(\n            await iou().bankOwesTo(\n              intf.call(),\n              bank,\n              this.bankInstance.deployedAt\n            )\n          );\n          detail.debtFromUs = detail.debtFromUs / 10**this.decimals\n          detail.debtToUs = detail.debtToUs / 10**this.decimals\n          arrayResult.push(detail);\n        }\n        this.registeredBankDetails = arrayResult;\n      }\n    },\n    async addRegisteredBank(address) {\n      if (this.bankInstance && this.currentAddress) {\n        await ensureFlag(this, 'transactionInProgress', async ()=>{\n          const intf = connectToNode(this.currentAddress, walletAuthDialog);\n          const ownerToCheck = await bankContract().at(address).owner(intf.call());\n          if (!ownerToCheck) throw new Error(\"The address of the smart contract is not a valid bank address\");\n          await this.bankInstance.registerBank(intf.send({maxGas:100000}), address);\n          this.registeredBanks.push(address);\n          await storage().setItem(registeredBankName, this.registeredBanks);\n          await this.getRegisteredBankDetails();\n          notifySuccess(\"The external bank has been registered.\")\n          this.capturedBankAddress = undefined;\n        })\n      }\n    },\n    async confirmInterbankRepayment(bank, debtToUs){\n      if (this.bankInstance && this.currentAddress) {\n        await ensureFlag(this, 'transactionInProgress', async ()=>{\n          const intf = connectToNode(this.currentAddress, walletAuthDialog);\n          await this.bankInstance.confirmInterbankPayment(intf.send({maxGas:100000}), bank, debtToUs * 10**this.decimals);\n          notifySuccess(`The debt of ${debtToUs} ${this.currency} has been cleared.`)\n          await this.getRegisteredBankDetails();\n          await this.getIOUGlobalDebt();\n        })\n      }\n    }\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BankPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BankPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BankPage.vue?vue&type=template&id=e7e3c80e&\"\nimport script from \"./BankPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BankPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.createNewAccount}},[_vm._v(\"Create new account\")])],1),_c('v-col',{attrs:{\"cols\":\"9\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"New account name\",\"counter\":\"\"},model:{value:(_vm.newAccountName),callback:function ($$v) {_vm.newAccountName=$$v},expression:\"newAccountName\"}})],1)],1)],1)],1),_vm._l((_vm.accounts),function(account){return _c('v-col',{key:account.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"elevation\":_vm.selectedAccount==account.address?'12':'2',\"outlined\":_vm.selectedAccount==account.address?true:false},on:{\"click\":function($event){_vm.selectedAccount=account.address}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"}},[_c('div',[_vm._v(_vm._s(account.name))]),_c('div',[_vm._v(_vm._s(_vm.formatting.format(account.balance)))])]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[(_vm.selectedAccount==account.address)?_c('div',[_c('v-text-field',{attrs:{\"label\":\"amount\",\"type\":\"number\"},model:{value:(_vm.changeBalanceAmount),callback:function ($$v) {_vm.changeBalanceAmount=$$v},expression:\"changeBalanceAmount\"}}),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){return _vm.changeBalance(1)}}},[_vm._v(\"credit\")]):_vm._e(),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){return _vm.changeBalance(-1)}}},[_vm._v(\"debit\")]):_vm._e(),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){_vm.showTransfer=true}}},[_vm._v(\"Transfer ...\")]):_vm._e(),(_vm.showTransfer)?_c('v-text-field',{attrs:{\"label\":\"target account address\",\"type\":\"text\"},model:{value:(_vm.transferToAddress),callback:function ($$v) {_vm.transferToAddress=$$v},expression:\"transferToAddress\"}}):_vm._e(),(_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){_vm.showTransfer=false}}},[_vm._v(\"Cancel\")]):_vm._e(),(_vm.showTransfer)?_c('v-btn',{on:{\"click\":_vm.executeTransfer}},[_vm._v(\"Ok\")]):_vm._e()],1):_vm._e()]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_c('div',[_vm._v(\"address: \"),_c('expl-a',{attrs:{\"value\":account.address,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"IBAN: \"+_vm._s(account.iban))]),_c('div',[_vm._v(\"owner: \"),_c('expl-a',{attrs:{\"value\":account.owner}})],1),(_vm.selectedAccount==account.address)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"9\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"messages\":\"Whitelist a wallet to grant access\",\"label\":\"grant access to\",\"type\":\"text\"},model:{value:(_vm.whitelistedAddress),callback:function ($$v) {_vm.whitelistedAddress=$$v},expression:\"whitelistedAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\",\"align-self\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.whitelistAddress}},[_vm._v(\"Ok\")])],1)],1):_vm._e()],1)],1)],1)],1)})],2)],1),_c('div',{staticClass:\"mt-8\"},[_vm._v(\"*) Note on Iban: XE country code is not widely recognized by the banking community. Alternative encoding may be needed, such as having the bank smart contract provide a 2 letter prefix instead\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\"> \n            <v-row>\n              <v-col cols=\"3\" align-self=\"center\">\n                <v-btn color=\"primary\" @click=\"createNewAccount\">Create new account</v-btn>\n              </v-col>\n              <v-col cols=\"9\" align-self=\"center\">\n                <v-text-field\n                  label=\"New account name\"\n                  counter\n                  v-model=\"newAccountName\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" v-for=\"account in accounts\" :key=\"account.address\">\n          <v-card class=\"pa-3\" \n            @click=\"selectedAccount=account.address\"\n            :elevation=\"selectedAccount==account.address?'12':'2'\"\n            :outlined=\"selectedAccount==account.address?true:false\"\n          > \n            <v-row>\n              <v-col cols=\"2\" align-self=\"center\">\n                <div>{{account.name}}</div>\n                <div>{{formatting.format(account.balance)}}</div>\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                <div v-if=\"selectedAccount==account.address\">\n                  <v-text-field label=\"amount\" type=\"number\" v-model=\"changeBalanceAmount\"></v-text-field>\n                  <v-btn @click=\"changeBalance(1)\" v-if=\"!showTransfer\">credit</v-btn>\n                  <v-btn @click=\"changeBalance(-1)\" v-if=\"!showTransfer\">debit</v-btn>\n                  <v-btn @click=\"showTransfer=true\" v-if=\"!showTransfer\">Transfer ...</v-btn>\n                  <v-text-field label=\"target account address\" type=\"text\" v-model=\"transferToAddress\" v-if=\"showTransfer\"></v-text-field>\n                  <v-btn @click=\"showTransfer=false\" v-if=\"showTransfer\">Cancel</v-btn>\n                  <v-btn @click=\"executeTransfer\" v-if=\"showTransfer\">Ok</v-btn>\n                </div>\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                <div>address: <expl-a :value=\"account.address\" type=\"token\"></expl-a></div>\n                <div>IBAN: {{account.iban}}</div>\n                <div>owner: <expl-a :value=\"account.owner\"></expl-a></div>\n                <v-row v-if=\"selectedAccount==account.address\">\n                  <v-col cols=\"9\" align-self=\"center\">\n                    <v-text-field messages=\"Whitelist a wallet to grant access\"  label=\"grant access to\" type=\"text\" v-model=\"whitelistedAddress\" ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"3\" align-self=\"center\">\n                    <v-btn @click=\"whitelistAddress\" >Ok</v-btn>\n                  </v-col>\n                </v-row>\n              </v-col>\n\n                \n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-layout>\n    <div class=\"mt-8\">*) Note on Iban: XE country code is not widely recognized by the banking community. Alternative encoding may be needed, such as having the bank smart contract provide a 2 letter prefix instead</div>\n  </v-container>\n</template>\n\n<script>\nimport { connectToNode, storage, bankContract, accountContract, toHex, ensureFlag, Iban, storageNames } from \"../lib/api\";\nimport { mapAddr } from '../lib/eventlog-formatter';\nimport { notifySuccess, walletAuthDialog } from '../store';\nimport ExplA from \"./ExplorerLink.vue\";\n\nconst accountAddressesName = storageNames.accountAddresses;\nexport default {\n  components: {ExplA},\n  data(){\n    return {\n      transactionInProgress: false,\n      currency: \"\",\n      decimals: 0,\n      accountAddresses: [],\n      accounts: [],\n      newAccountName: \"\",\n      selectedAccount: \"\",\n      changeBalanceAmount: null,\n      formatting: new Intl.NumberFormat('en', {minimumFractionDigits: 2}),\n      showTransfer: false,\n      transferToAddress: undefined,\n      whitelistedAddress: undefined,\n    }\n  },\n  async mounted() {\n    \n    const l = await storage().getItem(accountAddressesName);\n    if (l && Array.isArray(l)) {\n      this.accountAddresses = l;\n      this.accounts = l.filter(a=>!!a).map(a=>({\n        address: a,\n        name: \"\",\n        balance: undefined,\n        owner: undefined,\n        iban: undefined\n      }));\n\n      await this.getCurrency();\n      this.formatting = new Intl.NumberFormat('en', {minimumFractionDigits: this.decimals , style: this.currency?\"currency\":undefined, currency: this.currency || undefined});\n\n      this.fillAccounts();\n    }\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n    bankInstance() {\n      if (this.$store.getters.bankSmartContract) \n        return bankContract().at(this.$store.getters.bankSmartContract);\n      else \n        return undefined;\n    }\n  },\n  methods: {\n    async getCurrency() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      this.currency = await this.bankInstance.symbol(intf.call());\n      this.decimals = Number.parseInt(await this.bankInstance.decimals(intf.call()));\n      console.log(\"Currency: \", this.currency, this.decimals)\n    },\n    async saveAddresses() {\n      await storage().setItem(accountAddressesName, this.accountAddresses);\n    },\n    async fillAccounts(onlyAddress) {\n      if (!this.currentAddress) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      const arrayToProcess = onlyAddress? [onlyAddress] : this.accountAddresses;\n      const arrayResult = [];\n      for (const address of this.accountAddresses) {\n        if (arrayToProcess.includes(address) ) {\n          const account = {address};\n          const inst = accountContract().at(account.address);\n          account.name = await inst.getAttributeStr(intf.call(), toHex(\"name\"));\n          console.log(\"Actual balance value\", await inst.balance(intf.call()))\n          account.balance = Number.parseFloat(await inst.balance(intf.call())) / 10**this.decimals;\n          account.owner = await inst.owner(intf.call());\n          account.iban = Iban.from(account.address);\n          mapAddr(account.address, account.name);\n          arrayResult.push(account);\n        } else {\n          arrayResult.push(this.accounts.find(a=>a.address === address));\n        }\n      }\n\n      this.accounts = arrayResult;\n    },\n    async createNewAccount() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.newAccountName) return;\n\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const inst = await accountContract().deploy(intf.newi({maxGas: 1200000}), this.newAccountName);\n        await inst.transferOwnership(intf.send({maxGas:50000}), this.bankInstance.deployedAt);\n        await this.bankInstance.registerAccount(intf.send({maxGas: 100000}), inst.deployedAt);\n        notifySuccess(`New account created.`)\n        this.accountAddresses = [...this.accountAddresses, inst.deployedAt];\n        await this.saveAddresses();\n        await this.fillAccounts(inst.deployedAt);\n      })\n\n    },\n    async changeBalance(sign) {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.selectedAccount) return;\n      if (!this.changeBalanceAmount) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = Math.round(this.changeBalanceAmount * 10**this.decimals)\n        if(sign > 0) {\n          await this.bankInstance.credit(intf.send({maxGas:100000}), this.selectedAccount, amount);\n          notifySuccess(`Account credited with ${this.changeBalanceAmount} ${this.currency}`)\n        } else {\n          await this.bankInstance.debit(intf.send({maxGas:100000}), this.selectedAccount, amount)\n          notifySuccess(`Account debited with ${this.changeBalanceAmount} ${this.currency}`)\n        }\n        this.changeBalanceAmount = undefined;\n        await this.fillAccounts(this.selectedAccount);\n      })\n    },\n    async executeTransfer() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.selectedAccount) return;\n      if (!this.changeBalanceAmount) return;\n      if (!this.transferToAddress) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = Math.round(this.changeBalanceAmount * 10**this.decimals)\n        const account = accountContract().at(this.selectedAccount);\n        await account.transfer(intf.send({maxGas: 300000}), this.transferToAddress, amount);\n        notifySuccess(`Transfer ${this.changeBalanceAmount} ${this.currency} to account.`)\n        await this.fillAccounts(this.selectedAccount);\n        await this.fillAccounts(this.transferToAddress);\n        this.changeBalanceAmount = undefined;\n        this.transferToAddress = undefined;\n      })\n    },\n    async whitelistAddress() {\n      if (!this.currentAddress ) return;\n      if (!this.selectedAccount) return;\n      if (!this.whitelistedAddress) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const account = accountContract().at(this.selectedAccount);\n        await account.whitelist(intf.send({maxGas: 50000}), this.whitelistedAddress);\n        notifySuccess(`Wallet whitelisted for the account.`)\n        this.whitelistedAddress = undefined;\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountsPage.vue?vue&type=template&id=8349f6ae&\"\nimport script from \"./AccountsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"650px\"},model:{value:(_vm.displayAuthenticationDialog),callback:function ($$v) {_vm.displayAuthenticationDialog=$$v},expression:\"displayAuthenticationDialog\"}},[_c('v-card',[_c('v-card-title',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.walletAddress}})],1),_c('v-col',{attrs:{\"cols\":\"10\",\"align-self\":\"center\"}},[_c('div',{staticClass:\"text-h5\"},[_vm._v(\"Sign transaction with\")]),_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.walletAddress))])])],1)],1),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassword ? 'text' : 'password',\"name\":\"password\",\"label\":\"Enter the wallet password\",\"counter\":\"\",\"autofocus\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),(!!_vm.authenticationError)?_c('v-row',[_c('v-col',[_c('span',{staticClass:\"red--text text-h6\"},[_vm._v(_vm._s(_vm.authenticationError))])])],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-checkbox',{attrs:{\"label\":\"Remember my password for the session\"},model:{value:(_vm.rememberPassword),callback:function ($$v) {_vm.rememberPassword=$$v},expression:\"rememberPassword\"}}),_c('v-spacer'),_c('v-btn',{ref:\"close\",attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeAuthenticationDialog()}}},[_vm._v(\" Close \")]),_c('v-btn',{ref:\"verify\",attrs:{\"color\":\"primary darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.verifyAuthentication()}}},[_vm._v(\" Verify \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"displayAuthenticationDialog\" persistent max-width=\"650px\">\n    <v-card >\n      <v-card-title>\n        <v-row>\n          <v-col cols=\"2\" align-self=\"center\">\n            <eth-avatar-icon :value=\"walletAddress\"></eth-avatar-icon>\n          </v-col>\n          <v-col cols=\"10\" align-self=\"center\">\n            <div class=\"text-h5\">Sign transaction with</div>\n            <div class=\"text-h6\">{{ walletAddress }}</div>\n          </v-col>\n        </v-row>\n      </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>\n            <v-col>\n              <v-text-field\n                v-model=\"password\"\n                :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                name=\"password\"\n                label=\"Enter the wallet password\"\n                counter\n                autofocus\n                @click:append=\"showPassword = !showPassword\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row v-if=\"!!authenticationError\">\n            <v-col>\n              <span class=\"red--text text-h6\">{{ authenticationError }}</span>\n            </v-col>\n          </v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-checkbox label=\"Remember my password for the session\" v-model=\"rememberPassword\"></v-checkbox>\n        <v-spacer></v-spacer>\n        <v-btn ref=\"close\"  color=\"blue darken-1\" text @click=\"closeAuthenticationDialog()\">\n          Close\n        </v-btn>\n        <v-btn ref=\"verify\" color=\"primary darken-1\" text @click=\"verifyAuthentication()\">\n          Verify\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nexport default {\n  components: {EthAvatarIcon},\n  data() {\n    return {\n      password: undefined,\n      walletAddress: undefined,\n      displayAuthenticationDialog: false,\n      showPassword: false,\n      authenticationError: undefined,\n      rememberPassword: false\n    }\n  },\n  methods: {\n    async closeAuthenticationDialog() {\n      // await this.completeAndEmitEvent(false);\n\n    },\n    async verifyAuthentication() {\n      // await this.completeAndEmitEvent(true);\n    },\n    async showDialog(address, errorMessage) {\n      // control if there is a concurrent use of the dialog with 2 different address\n      if (this.displayAuthenticationDialog && this.walletAddress !== address) {\n        throw new Error(\"The dialog cannot be used twice with 2 different addresses at the same time\")\n      }\n      // otherwise the code ca be re executed on the same instance\n      // double listener to return the password on ok / cancel\n      if (!this.displayAuthenticationDialog) {\n        this.displayAuthenticationDialog = true;\n        this.authenticationError = errorMessage;\n        this.walletAddress = address;\n      }\n      // important : ensures that the DOM is ready and the refs are available\n      await this.$nextTick();\n      const ret = await new Promise((resolve)=>{\n        this.$refs.verify.$once(\"click\", ()=>{resolve({address, password: this.password, keepPassword: this.rememberPassword, ok: true})})\n        this.$refs.close.$once(\"click\", ()=>{resolve({address, ok: false})})\n      })\n      this.displayAuthenticationDialog = false;\n      this.password = undefined\n      this.authenticationError = undefined;\n      this.walletAddress = undefined;\n      return ret;\n    }\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletPassword.vue?vue&type=template&id=d77530d4&\"\nimport script from \"./WalletPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-simple-table',{attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left text-h6\"},[_vm._v(\"LOG: block/tx/index Initiator.Event(param1, param2, param3, ...)\")])])]),_c('tbody',_vm._l((_vm.eventsSorted),function(log){return _c('tr',{key:log.id,staticClass:\"pt-6\"},[_c('td',[_c('div',[_vm._v(_vm._s(log.formatted)+\" \")]),_c('div',{staticClass:\"text--secondary text-body-2\"},[_vm._v(\"Tx: \"),_c('expl-a',{attrs:{\"value\":log.transactionHash}})],1)])])}),0)]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n      <v-layout row wrap>\n        <v-simple-table fixed-header >\n          <template v-slot:default>\n            <thead>\n              <tr>\n                <th class=\"text-left text-h6\">LOG: block/tx/index Initiator.Event(param1, param2, param3, ...)</th>\n              </tr>\n            </thead>\n            <tbody >\n              <tr v-for=\"log in eventsSorted\" :key=\"log.id\" class=\"pt-6\">\n                <td>\n                  <div>{{log.formatted}} </div>\n                  <div class=\"text--secondary text-body-2\">Tx: <expl-a :value=\"log.transactionHash\"></expl-a></div>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n       \n      </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { formatLog, sortableId } from \"../lib/eventlog-formatter\";\nimport ExplA from \"./ExplorerLink.vue\";\n\nexport default {\n  components: {ExplA},\n  data() {\n    return {\n\n    }\n  },\n  mounted() {\n    this.resetEventsCount();\n  },\n\n  computed: {\n    eventsSorted() {\n      return this.$store.getters.events\n        .map(log=>({...log, formatted: formatLog(log), sortableId: sortableId(log)}))\n        .sort((log1, log2)=>-log1.sortableId.localeCompare(log2.sortableId))\n    }\n  },\n  methods: {\n    ...mapActions([\"resetEventsCount\"]),\n\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventLogs.vue?vue&type=template&id=088ac8c3&\"\nimport script from \"./EventLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./EventLogs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.bars),function(bar){return _c('v-snackbar',{key:bar.id,ref:'bar-'+bar.id,refInFor:true,style:('top:'+bar.top+'px'),attrs:{\"app\":\"\",\"top\":\"\",\"right\":\"\",\"timeout\":bar.timeout,\"color\":bar.color,\"max-width\":\"150\"},on:{\"input\":function($event){return _vm.closingBar(bar)}},model:{value:(bar.visible),callback:function ($$v) {_vm.$set(bar, \"visible\", $$v)},expression:\"bar.visible\"}},[_c('v-icon',{staticClass:\"pr-2\"},[_vm._v(_vm._s(bar.icon || 'mdi-check-outline'))]),_vm._v(\" \"+_vm._s(bar.text)+\" \")],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-snackbar \n      v-for=\"(bar) in bars\" :key=\"bar.id\" \n      v-model=\"bar.visible\"\n      :ref=\"'bar-'+bar.id\"\n      app top right :timeout=\"bar.timeout\"\n      :color=\"bar.color\"\n      :style=\"'top:'+bar.top+'px'\"\n      max-width=\"150\"\n      @input=\"closingBar(bar)\"\n    >\n      <v-icon class=\"pr-2\">{{bar.icon || 'mdi-check-outline'}}</v-icon> {{bar.text}}\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nexport default {\n\n  data() {\n    return {\n      lastId: -1,\n      bars: []\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    closingBar() {\n      // console.log(\"Closing bar\", bar)\n      this.recalculateBars()\n    },\n    recalculateBars() {\n      let bars = this.bars.map(b=>({...b})); // make a copy\n      bars = bars.filter(b=>b.visible);\n      let top = 0;\n      for (const b of bars) {\n        b.top = top;\n        const els = this.$refs[`bar-${b.id}`];\n        if (Array.isArray(els) && els.length === 1) {\n          if (els[0].$el.firstElementChild) {\n            const el = els[0].$el.firstElementChild;\n            // console.log(\"bar\", b.id, el.offsetHeight)\n            top +=  el.offsetHeight + 10\n          }\n        }\n      }\n      // console.log(\"New list\", bars)\n      this.bars = bars;\n    },\n    addBar(bar) {\n      bar = {id: this.lastId++, visible: true, timeout: 10000, ... bar};\n      this.bars.push(bar);\n      this.recalculateBars();\n    },\n    addError(text, opts= {}) {\n      const bar = {color: \"red\", icon:\"mdi-message-alert-outline\", ...opts};\n      bar.text = text;\n      this.addBar(bar);\n    },\n    addConfirm(text, opts= {}) {\n      const bar = {color: \"green\", icon:\"mdi-check-outline\", ...opts};\n      bar.text = text;\n      this.addBar(bar);\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Snackbars.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Snackbars.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Snackbars.vue?vue&type=template&id=2aad8655&\"\nimport script from \"./Snackbars.vue?vue&type=script&lang=js&\"\nexport * from \"./Snackbars.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"inspire\">\n    <wallet-password ref=\"unique-wallet-password-id\"> </wallet-password>\n    <snackbars ref=\"snackbars\"></snackbars>\n    <!-- <v-system-bar app>\n      <v-spacer></v-spacer>\n\n      <v-icon>mdi-square</v-icon>\n\n      <v-icon>mdi-circle</v-icon>\n\n      <v-icon>mdi-triangle</v-icon>\n    </v-system-bar> -->\n\n    <!-- <login v-if=\"!loggedIn\"></login> -->\n    <div v-if=\"!configurationOk\">\n      <v-main>\n        <v-container class=\"py-8 px-6\" fluid>\n          <configuration v-model=\"configurationOk\"></configuration>\n        </v-container>\n      </v-main>\n    </div>\n    <div v-else>\n      <app-menu></app-menu>\n\n      <v-main>\n        <v-container class=\"py-8 px-6\" fluid>\n          <!-- <dashboard v-if=\"selectedItem == 'dashboard'\"></dashboard> -->\n          <bank-page v-if=\"selectedItem == 'bank'\"></bank-page>\n          <accounts-page v-if=\"selectedItem == 'account'\"></accounts-page>\n          <configuration v-if=\"selectedItem == 'config'\"></configuration>\n          <wallets-page v-if=\"selectedItem == 'wallets'\"></wallets-page>\n          <event-logs v-if=\"selectedItem == 'eventlog'\"></event-logs>\n        </v-container>\n      </v-main>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport AppMenu from \"./components/AppMenu.vue\";\n// import Login from \"./components/Login.vue\";\nimport Configuration from \"./components/Configuration.vue\";\nimport BankPage from \"./components/BankPage.vue\";\nimport AccountsPage from \"./components/AccountsPage.vue\";\nimport WalletPassword from \"./components/WalletPassword.vue\";\nimport WalletsPage from \"./components/WalletsPage.vue\";\nimport EventLogs from \"./components/EventLogs.vue\";\nimport Snackbars from \"./components/Snackbars.vue\";\n\nimport { mapActions } from \"vuex\";\nimport { mapAddr } from './lib/eventlog-formatter';\nimport { notifyError } from './store';\nexport default {\n  components: { \n    AppMenu, \n    // Login, \n    Configuration,\n    BankPage,\n    AccountsPage,\n    EventLogs,\n    WalletsPage,\n    WalletPassword,\n    Snackbars\n     },\n  data: () => ({\n    configurationOk: false,\n    pollingInError: false,\n    lastErrorMessage: \"\",\n  }),\n  computed: {\n    selectedItem() {\n      return this.$store.getters.activePage;\n    },\n    loggedIn() {\n      // use the below line to enable external IDP authentication with the Login.vue component\n      return true; // and remove this one\n      //return !!this.$store.getters.authenticated;\n    },\n    initializationReady() {\n      const bankSmartContractReady = !!this.$store.getters.bankSmartContract;\n      const variablesReady = !!this.$store.getters.variables.IOUAddress;\n      return variablesReady && bankSmartContractReady\n    }\n  },\n  watch: {\n    initializationReady(n, o) {\n      console.log(\"watched initializationReady\", n, o);\n      mapAddr(this.$store.getters.bankSmartContract, \"ThisBank\");\n      this.collectBankEvents({subscribe: true, fromBlock: 0});\n      this.findBankAccounts();\n      this.findLinkedBanks();\n    }\n  },\n  methods: {\n    ...mapActions([\"loadData\", \"refreshAccessToken\", \"applyWalletPasswordDialog\", \"applySnackbars\", \"collectBankEvents\", \"findBankAccounts\", \"findLinkedBanks\"]),\n  },\n  async mounted() {\n    console.log(\"applyWalletPasswordDialog\", this.$refs[\"unique-wallet-password-id\"])\n    await this.applyWalletPasswordDialog(this.$refs[\"unique-wallet-password-id\"]);\n    await this.applySnackbars(this.$refs[\"snackbars\"]);\n  },\n  errorCaptured(err) {\n    notifyError(err.message || err)\n    return false;\n  }\n};\n</script>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3c092a29&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: '#007BFF',\n        secondary: '#424242',\n        accent: '#82B1FF',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FFC107'\n      },\n    },\n  },\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\nimport '@mdi/js'\n\nimport store from \"./store\";\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","const clientId = \"bf96b738-483a-4b00-8147-5bad2acf06ac\";\n\nexport async function refreshAccessToken(refreshToken) {\n  var urlencoded = new URLSearchParams();\n  urlencoded.append(\"grant_type\", \"refresh_token\");\n  urlencoded.append(\n    \"refresh_token\",\n    refreshToken\n  );\n  urlencoded.append(\"client_id\", clientId);\n  urlencoded.append(\"scope\", \"broker.read openid\");\n\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: urlencoded,\n    redirect: \"follow\",\n  };\n\n\n  const res = await fetch(\"https://trusstee.io/broker/token\", requestOptions)\n  if (res.ok) {\n    return await res.json();\n  } else {\n    throw new Error(\"Fail refreshing token \"+res.statusText);\n  }\n}\n\nexport async function silentRelogin(currentIssuer) {\n  if (!window.Trusstee) throw new Error(\"Trusstee script not initialized\");\n  const config = await window.Trusstee.createConfiguration({\n    issuer: \"https://trusstee.io/broker\",\n    client_id: clientId,\n    idp_hint: currentIssuer\n  });\n  const tokens = await window.Trusstee.silentOIDCLogin.promise(config);\n  return tokens;\n}\n\nexport async function popupLogin(currentIssuer) {\n  if (!window.Trusstee) throw new Error(\"Trusstee script not initialized\");\n  const config = await window.Trusstee.createConfiguration({\n    issuer: \"https://trusstee.io/broker\",\n    client_id: clientId,\n    idp_hint: currentIssuer,\n  });\n  const tokens = await window.Trusstee.popupOIDCLogin.promise(config);\n  return tokens;\n}","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nimport { setAccessToken, initApis, storage, bankContract, connectToNode, iou, storageNames } from \"./lib/api\";\nimport { refreshAccessToken, silentRelogin, popupLogin } from \"./lib/oauth2\";\n\n//let KeepReceiver;\nconst store = new Vuex.Store({\n  state: {\n    userIdentity: null,\n    serviceToken: \"service-token\",\n    oauth2Tokens: null,\n    tokenRefreshTimer: null,\n    activePage: \"\",\n\n    walletPasswordDialog: undefined,\n    snackbars: undefined,\n    variables: {},\n    currentWalletAddress: null,\n    bankSmartContract: undefined,\n    bankEventsCollectedFor: undefined,\n    events: [],\n    newEventsCount: 0\n  },\n  mutations: {\n    setUserIdentity(state, identity) {\n      state.userIdentity = identity;\n    },\n    setActivePage(state, page) {\n      state.activePage = page;\n    },\n    setOauth2Tokens(state, tokens) {\n      state.serviceToken = tokens.access_token;\n      state.oauth2Tokens = tokens;\n    },\n    setTokenRefreshTimer(state, timer) {\n      // ensure there is a single timer at any time\n      if (state.tokenRefreshTimer) clearTimeout(state.tokenRefreshTimer);\n      state.tokenRefreshTimer = timer;\n    },\n    setVariables(state, variables) {\n      state.variables = variables;\n    },\n    setCurrentWalletAddress(state, address) {\n      state.currentWalletAddress = address;\n    },\n    setWalletPasswordDialog(state, instance) {\n      state.walletPasswordDialog = instance;\n    },\n    setSnackbar(state, instance) {\n      if (\"addError\" in instance && \"addConfirm\" in instance) {\n        state.snackbars = instance;\n      }\n    },\n    setBankSmartContract(state, address) {\n      state.bankSmartContract = address;\n    },\n    setBankEventsCollectedFor(state, struct) {\n      state.bankEventsCollectedFor = struct;\n    },\n    addEvent(state, event) {\n      if (event.error) {\n        state.events.push(event);\n      } else {\n        // dedup events\n        const found = state.events.find(l=>l.blockNumber==event.blockNumber && l.transactionIndex==event.transactionIndex && l.logIndex==event.logIndex)\n        if (!found) {\n          state.events.push(event);\n          state.newEventsCount = state.newEventsCount +1;\n        }\n      }\n    },\n    setEventsCount(state, value) {\n      state.newEventsCount = value;\n    }\n  },\n  actions: {\n    async applyUserIdentity({ commit }, identity) {\n      commit(\"setUserIdentity\", identity);\n    },\n    async applyUserOauth2Tokens({ commit, dispatch }, tokens) {\n      setAccessToken(tokens.access_token);\n      commit(\"setOauth2Tokens\", tokens);\n\n      const timer = setTimeout(async () => {\n        await dispatch(\"refreshAccessToken\");\n      }, (tokens.expires_in - 10) * 1000);\n      commit(\"setTokenRefreshTimer\", timer);\n    },\n    async refreshAccessToken({state, dispatch}, redirect = true) {\n      const tokens = state.oauth2Tokens;\n      if (!tokens) return;\n      const refreshToken = tokens.refresh_token;\n      if (!refreshToken) return;\n      let newTokens;\n      try {\n        newTokens = await refreshAccessToken(refreshToken);\n        console.log(\"Token refreshed\", newTokens);\n      } catch (error) {\n        console.warn(\n          \"Fail refreshing the authentication. Trying iframe silent login\",\n          error\n        );\n        try {\n          newTokens = await silentRelogin(tokens.origin_issuer);\n          console.log(\"Token re login\", newTokens);\n        } catch (error) {\n          console.warn(\n            \"Fail silently updating the authentication. Trying popup login\",\n            error\n          );\n          try {\n            newTokens = await popupLogin(tokens.origin_issuer);\n            console.log(\"Token popup login\", newTokens);\n          } catch (error) {\n            console.error(\n              \"Fail updating the authentication in a popup\",\n              error\n            );\n          }\n        }\n      }\n      if (newTokens) {\n        newTokens.refresh_token = refreshToken;\n        await dispatch(\"applyUserOauth2Tokens\", newTokens);\n      } else {\n        if (redirect) {\n          window.location = window.location.href;\n        } else {\n          throw new Error(\"Fail to connect to the IDP\");\n        }\n      }\n    },\n    async goToPage({ commit, state }, page) {\n      if (state.activePage !== page) {\n        commit(\"setActivePage\", page);\n      }\n    },\n    async applyVariables({commit}, variables) {\n      await initApis(variables);\n      commit(\"setVariables\", variables);\n    },\n    async applyCurrentWalletAddress({commit}, address) {\n      commit(\"setCurrentWalletAddress\", address);\n    },\n    async applyWalletPasswordDialog({commit}, instance) {\n      commit(\"setWalletPasswordDialog\", instance);\n    },\n    async applySnackbars({commit}, instance) {\n      commit(\"setSnackbar\", instance);\n    },\n    async authenticateWallet({state}, { api, address}) {\n      const el = state.walletPasswordDialog\n      if (!el) throw new Error(\"Ensure the <wallet-password> element is configured \");\n      let token = undefined;\n      let errorMessage = undefined\n      let ret = {address, ok: true, password: undefined, keepPassword: false};\n      // try first to get the password from the session storage\n      ret.password = window.sessionStorage.getItem(\"pwd-\"+address);\n      while (!token ) {\n        // if not then get the password from the user interface\n        if(!ret.password) {\n          ret = await el.showDialog(address, errorMessage);\n        }\n        console.log(\"returned\", address, ret, token, errorMessage);\n        // console.log(\"returned\", ret);\n        if (!ret.ok) { // cancel clicked\n          return undefined;\n        }\n        try {\n          token = await api.authenticate(address, ret.password)\n\n          // if the authentication succeded then keep the password if requested\n          if (ret.keepPassword) {\n            window.sessionStorage.setItem(\"pwd-\"+address, ret.password)\n          }\n        } catch (error) {\n          // if authentication failed, forget the saved password\n          // window.sessionStorage.removeItem(\"pwd-\"+address);\n          ret.password = undefined;\n          console.log(\"failed\", error);\n          errorMessage = error.message;\n        }\n      }\n      console.log(\"Returning token\", token)\n      return token;\n    },\n    async intitializeFromStorage({commit}) {\n      const bank = await storage().getItem(storageNames.bankAddress);\n      commit(\"setBankSmartContract\", bank);\n    },\n    async saveBankSmartContract({commit}, address) {\n      commit(\"setBankSmartContract\", address);\n      await storage().setItem(storageNames.bankAddress, address);\n    },\n    async findBankAccounts({state}) {\n      if (!this.state.bankSmartContract) return;\n      const bank = bankContract().at(state.bankSmartContract);\n      const intf = connectToNode(state.bankSmartContract, ()=>Promise.resolve(\"\"));\n      \n      const events = await new Promise((resolve, reject)=> {\n        const logs = [];\n        bank.events.AccountStatus(intf.get({fromBlock: 0}))\n          .on(\"log\", log=>logs.push(log))\n          .on(\"error\", reject)\n          .on(\"completed\", ()=>resolve(logs));\n      });\n      const accounts = events.map(e=>e.returnValues.account);\n      const existing = await storage().getItem(storageNames.accountAddresses)||[];\n      for (const account of accounts) {\n        if (!existing.includes(account)) existing.push(account);\n      }\n      await storage().setItem(storageNames.accountAddresses, existing);\n    },\n    async findLinkedBanks({state}) {\n      if (!this.state.bankSmartContract) return;\n      const bank = bankContract().at(state.bankSmartContract);\n      const intf = connectToNode(state.bankSmartContract, ()=>Promise.resolve(\"\"));\n      \n      const events = await new Promise((resolve, reject)=> {\n        const logs = [];\n        bank.events.BankLinkStatus(intf.get({fromBlock: 0}))\n          .on(\"log\", log=>logs.push(log))\n          .on(\"error\", reject)\n          .on(\"completed\", ()=>resolve(logs));\n      });\n      const banks = events.map(e=>e.returnValues.bank);\n      const existing = await storage().getItem(storageNames.registeredBankAddresses)||[];\n      for (const bank of banks) {\n        if (!existing.includes(bank)) existing.push(bank);\n      }\n      await storage().setItem(storageNames.registeredBankAddresses, existing);\n    },\n    async collectBankEvents({commit, state}, {subscribe, fromBlock}) {\n      if ( state.bankEventsCollectedFor && state.bankEventsCollectedFor.address == state.bankSmartContract) return; // only one registration\n      console.log(\"ready so subscribe\", subscribe, fromBlock);\n      const bank = bankContract().at(state.bankSmartContract);\n      // the last 'true' parameter is used to force the creation of a new web3 instance to avoid the subscription to loose its id\n      const intf = connectToNode(state.bankSmartContract, ()=>Promise.resolve(\"\"), true);\n      const func = subscribe ? intf.sub({fromBlock}) : intf.get({fromBlock});\n\n      const bankReceiver = bank.allEvents(func);\n      bankReceiver.on(\"log\", log=>{\n        // console.log(\"Log received bank\", log);\n        commit(\"addEvent\", log)})\n      bankReceiver.on(\"error\", err=>commit(\"addEvent\", {error:err}));\n\n      const iouReceiver = iou().allEvents(func);\n      iouReceiver.on(\"log\", log=>{\n        // console.log(\"Log received IOU\", log);\n        commit(\"addEvent\", log)})\n      iouReceiver.on(\"error\", err=>commit(\"addEvent\", {error:err}));\n\n      commit(\"setBankEventsCollectedFor\", {address: state.bankSmartContract, bankReceiver, iouReceiver});\n    },\n    async resetEventsCount({commit}) {\n      commit(\"setEventsCount\", 0);\n    }\n  },\n  getters: {\n    activePage(state) {\n      return state.activePage;\n    },\n    userIdentity(state) {\n      if (state.userIdentity) {\n        return {\n          email: state.userIdentity.email,\n          name: state.userIdentity.name,\n        };\n      } else\n        return {\n          email: \"\",\n          name: \"\",\n        };\n    },\n    userAccessToken(state) {\n      return state.serviceToken;\n    },\n    authenticated(state) {\n      return !!state.oauth2Tokens;\n    },\n    variables(state) {\n      return {...state.variables};\n    },\n    currentWalletAddress(state) {\n      return state.currentWalletAddress;\n    },\n    displayWalletPasswordDialog(state) {\n      return state.displayWalletPasswordDialog;\n    },\n    bankSmartContract(state) {\n      return state.bankSmartContract;\n    },\n    events(state) {\n      return state.events;\n    },\n    newEventsCount(state) {\n      return state.newEventsCount;\n    }\n  },\n});\nexport default store;\n\nasync function inits() {\n  await store.dispatch(\"intitializeFromStorage\")\n}\ninits();\n\nexport async function walletAuthDialog(address, api) {\n  return await store.dispatch(\"authenticateWallet\", {api, address})\n}\n\nexport function notifyError(message) {\n  store.state.snackbars.addError(message)\n} \nexport function notifySuccess(message) {\n  store.state.snackbars.addConfirm(message)\n} ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfront\"] = self[\"webpackChunkfront\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(94719); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","ref","staticRenderFns","createIcon","address","canvas","create","seed","toLowerCase","bgcolor","size","scale","spotcolor","props","value","undefined","mounted","setCanvas","computed","watch","v","methods","container","$refs","src","toDataURL","component","Boolean","checkAndReceiveAddress","data","newV","oldV","forwardToCustodyUi","mapActions","vars","$store","getters","variables","walletCustodyUI","target","URL","searchParams","append","window","location","href","assign","url","has","applyCurrentWalletAddress","get","addVisitedWallet","delete","history","replaceState","first","getFirstWallet","attrs","transactionInProgress","activateWalletSelection","_l","visitedWalletsDetails","wallet","key","staticClass","on","$event","selectThisWallet","_v","_s","toNumber","toGWei","balance","currentAddress","model","cryptoGWeiAmount","callback","$$v","expression","cryptoTransferTarget","executeCryptoTransfer","_e","visitedWalletName","storageNames","components","EthAvatarIcon","CustodySelection","visitedWallets","storage","getItem","fillWalletDetails","currentWalletAddress","eth","ethereum","arrayResult","detail","getBalance","push","ensureFlag","intf","connectToNode","walletAuthDialog","amount","toWei","Crypto","send","maxGas","toString","notifySuccess","async","current","filter","a","unshift","setItem","Array","isArray","length","AsyncLocalStorage","constructor","keys","keyList","includes","localStorage","JSON","parse","stringify","removeItem","result","group","Object","currentAccessToken","setAccessToken","token","console","log","walletAddresses","bankAddress","accountAddresses","registeredBankAddresses","mainConfig","_localStorage","values","initialized","web3","Web3","custodyApi","WalletCustodyApiImpl","IOUContract","CashBankContracts","iouInstance","at","BankContract","AccountContract","initApis","_variables","ws","web3WebSocketUrl","reconnect","auto","delay","onTimeout","walletCustodyService","IOUAddress","mapAddr","deployedAt","chainId","getChainId","requireInitialized","Error","asyncAuthFunction","newWeb3","_web3","utils","isAddress","Web3CustodyFunctionProvider","currentProvider","toHex","Iban","from","toIban","to","iban","toAddress","iou","bankContract","accountContract","flagName","execFunc","ZeroAccount","calcEventLogUniqueId","protocol","block","transaction","String","padStart","mapAddress","Map","low","name","set","formatLog","prefix","formatEventLogActual","event","params","returnValues","Number","isInteger","parseInt","paramsTxt","map","f","join","blockNumber","transactionIndex","logIndex","sortableId","GWEI_FACTOR","Math","pow","ETH_FACTOR","toWebBigInt","bi","BigNumber","decimals","toFormat","decimalSeparator","groupSeparator","groupSize","div","n","multipliedBy","configurationOk","selectedItem","directives","rawName","drawer","walletBalance","onChangeEvt","links","icon","text","evtCount","WalletCustodySelection","ev","goToPage","newEventsCount","getWalletBalance","asArrayOf","rules","notNull","valid","$set","desc","isConfigValid","saveConfiguration","saveConfigToFile","configFile","loadConfigFromFile","download","filename","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","isValidUrl","u","error","isValidEthereumAddress","startsWith","storageName","variableDefinitions","typeof","order","blockchainExplorer","saved","getSourceOfVariables","allKeys","sort","b","$emit","config","shouldBeSaved","res","fetch","content","json","setAll","warn","message","applyVariables","getAll","origin","pathname","replace","reload","currency","bankInstance","owner","formatting","format","totalSupply","class","globalDebt","capturedBankAddress","saveBankSmartContract","createBankInstance","registeredBankDetails","bank","registered","debtFromUs","debtToUs","confirmInterbankRepayment","addRegisteredBank","_t","openInNew","type","action","open","registeredBankName","ExplA","registeredBanks","Intl","NumberFormat","minimumFractionDigits","$nextTick","getBankCurrencyFromIOU","getIOUGlobalDebt","getBankDetails","getRegisteredBankDetails","bankSmartContract","symbol","call","inst","deploy","newi","parseFloat","unsigned","balanceOf","sign","balanceSignOf","their","isBankRegistered","bankOwesTo","ownerToCheck","registerBank","confirmInterbankPayment","createNewAccount","newAccountName","accounts","account","selectedAccount","changeBalanceAmount","showTransfer","changeBalance","transferToAddress","executeTransfer","whitelistedAddress","whitelistAddress","accountAddressesName","l","getCurrency","fillAccounts","onlyAddress","arrayToProcess","getAttributeStr","find","transferOwnership","registerAccount","saveAddresses","round","credit","debit","transfer","whitelist","displayAuthenticationDialog","walletAddress","showPassword","password","authenticationError","rememberPassword","closeAuthenticationDialog","verifyAuthentication","errorMessage","ret","Promise","resolve","verify","$once","keepPassword","ok","close","scopedSlots","_u","fn","eventsSorted","id","formatted","transactionHash","proxy","resetEventsCount","events","log1","log2","localeCompare","bars","bar","refInFor","top","timeout","color","closingBar","visible","lastId","recalculateBars","els","$el","firstElementChild","el","offsetHeight","addBar","addError","opts","addConfirm","AppMenu","Configuration","BankPage","AccountsPage","EventLogs","WalletsPage","WalletPassword","Snackbars","pollingInError","lastErrorMessage","activePage","loggedIn","initializationReady","bankSmartContractReady","variablesReady","o","collectBankEvents","subscribe","fromBlock","findBankAccounts","findLinkedBanks","applyWalletPasswordDialog","applySnackbars","errorCaptured","err","notifyError","Vue","Vuetify","theme","themes","light","primary","secondary","accent","info","success","warning","vuetify","store","h","App","$mount","clientId","refreshAccessToken","refreshToken","urlencoded","URLSearchParams","myHeaders","Headers","requestOptions","method","headers","redirect","statusText","silentRelogin","currentIssuer","Trusstee","createConfiguration","issuer","client_id","idp_hint","tokens","silentOIDCLogin","promise","popupLogin","popupOIDCLogin","Vuex","state","userIdentity","serviceToken","oauth2Tokens","tokenRefreshTimer","walletPasswordDialog","snackbars","bankEventsCollectedFor","mutations","setUserIdentity","identity","setActivePage","page","setOauth2Tokens","access_token","setTokenRefreshTimer","timer","clearTimeout","setVariables","setCurrentWalletAddress","setWalletPasswordDialog","instance","setSnackbar","setBankSmartContract","setBankEventsCollectedFor","struct","addEvent","found","setEventsCount","actions","commit","dispatch","setTimeout","expires_in","refresh_token","newTokens","origin_issuer","api","sessionStorage","showDialog","authenticate","reject","logs","AccountStatus","e","existing","BankLinkStatus","banks","func","sub","bankReceiver","allEvents","iouReceiver","email","userAccessToken","authenticated","displayWalletPasswordDialog","inits","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}