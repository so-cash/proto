{"version":3,"file":"js/app.f047ba4c.js","mappings":"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","sources":["webpack://front/./src/components/EthAvatarIcon.vue","webpack://front/./src/lib/blockies.js","webpack://front/src/components/EthAvatarIcon.vue","webpack://front/./src/components/EthAvatarIcon.vue?c353","webpack://front/./src/components/EthAvatarIcon.vue?a9b4","webpack://front/./src/components/WalletCustodySelection.vue","webpack://front/src/components/WalletCustodySelection.vue","webpack://front/./src/components/WalletCustodySelection.vue?4fe6","webpack://front/./src/components/WalletCustodySelection.vue?b326","webpack://front/./src/components/WalletsPage.vue","webpack://front/./src/lib/numbers.js","webpack://front/src/components/WalletsPage.vue","webpack://front/./src/components/WalletsPage.vue?a185","webpack://front/./src/components/WalletsPage.vue?411e","webpack://front/./src/lib/async-local-storage.js","webpack://front/./src/lib/api.js","webpack://front/./src/lib/eventlog-formatter.js","webpack://front/./src/App.vue","webpack://front/./src/components/AppMenu.vue","webpack://front/src/components/AppMenu.vue","webpack://front/./src/components/AppMenu.vue?8696","webpack://front/./src/components/AppMenu.vue?79a7","webpack://front/./src/components/Configuration.vue","webpack://front/./src/lib/files.js","webpack://front/src/components/Configuration.vue","webpack://front/./src/components/Configuration.vue?5ad1","webpack://front/./src/components/Configuration.vue?9f43","webpack://front/./src/components/BankPage.vue","webpack://front/./src/components/ExplorerLink.vue","webpack://front/src/components/ExplorerLink.vue","webpack://front/./src/components/ExplorerLink.vue?d2f9","webpack://front/./src/components/ExplorerLink.vue?5cc8","webpack://front/src/components/BankPage.vue","webpack://front/./src/components/BankPage.vue?6ce7","webpack://front/./src/components/BankPage.vue?5aa9","webpack://front/./src/components/AccountsPage.vue","webpack://front/src/components/AccountsPage.vue","webpack://front/./src/components/AccountsPage.vue?3471","webpack://front/./src/components/AccountsPage.vue?ec66","webpack://front/./src/components/WalletPassword.vue","webpack://front/src/components/WalletPassword.vue","webpack://front/./src/components/WalletPassword.vue?e45e","webpack://front/./src/components/WalletPassword.vue?6a74","webpack://front/./src/components/EventLogs.vue","webpack://front/src/components/EventLogs.vue","webpack://front/./src/components/EventLogs.vue?3d9a","webpack://front/./src/components/EventLogs.vue?f11c","webpack://front/./src/components/Snackbars.vue","webpack://front/src/components/Snackbars.vue","webpack://front/./src/components/Snackbars.vue?9f07","webpack://front/./src/components/Snackbars.vue?e493","webpack://front/src/App.vue","webpack://front/./src/App.vue?51dd","webpack://front/./src/App.vue?0e40","webpack://front/./src/plugins/vuetify.js","webpack://front/./src/main.js","webpack://front/./src/lib/oauth2.js","webpack://front/./src/store.js","webpack://front/webpack/bootstrap","webpack://front/webpack/runtime/amd options","webpack://front/webpack/runtime/chunk loaded","webpack://front/webpack/runtime/compat get default export","webpack://front/webpack/runtime/define property getters","webpack://front/webpack/runtime/global","webpack://front/webpack/runtime/hasOwnProperty shorthand","webpack://front/webpack/runtime/make namespace object","webpack://front/webpack/runtime/node module decorator","webpack://front/webpack/runtime/jsonp chunk loading","webpack://front/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('img',{ref:\"container\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { create } from \"ethereum-blockies\";\n\nexport function createIcon(address) {\n  if (!address) address = \"0x\" // the icon of the zero address;\n  const canvas = create({\n    // All options are optional\n    seed: address.toLowerCase(), // seed used to generate icon data, default: random\n    // color: \"#dfe\", // to manually specify the icon color, default: random\n    bgcolor: \"#fff\", // choose a different background color, default: random\n    size: 16, // width/height of the icon in blocks, default: 8\n    scale: 4, // width/height of each block in pixels, default: 4\n    spotcolor: \"#000\", // each pixel has a 13% chance of being of a third color,\n    // default: random. Set to -1 to disable it. These \"spots\" create structures\n    // that look like eyes, mouths and noses.\n  });\n  return canvas;\n}\n","<template>\n  <img ref=\"container\">\n</template>\n\n<script>\nimport { createIcon } from \"../lib/blockies\";\nexport default {\n  props: {\n    value: undefined,\n  },\n  mounted() {\n    this.setCanvas(this.value);\n  },\n  computed: {\n    address() {\n      return this.value;\n    },\n  },\n  watch: {\n    address(v) {\n      this.setCanvas(v);\n    },\n  },\n  methods: {\n    setCanvas(address) {\n      let container = this.$refs.container;\n      // console.log(\"EthAvatar\", container, address);\n      if (!container) return;\n      // container = container.parentNode;\n      // // removing existing content\n      // while (container.hasChildNodes())\n      //   container.removeChild(container.firstElementChild);\n      // container.appendChild(createIcon(address));\n      container.src = createIcon(address).toDataURL();\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EthAvatarIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EthAvatarIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EthAvatarIcon.vue?vue&type=template&id=ba804062&\"\nimport script from \"./EthAvatarIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./EthAvatarIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div></div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { addVisitedWallet, getFirstWallet } from \"./WalletsPage.vue\";\n\nexport default {\n  props: {\n    value: Boolean\n  },\n  async mounted() {\n    await this.checkAndReceiveAddress();\n  },\n  data() {\n    return {\n\n    }\n  },\n  watch: {\n    value(newV, oldV) {\n      if (newV && !oldV) { // change to true\n        this.forwardToCustodyUi()\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\"goToPage\", \"applyCurrentWalletAddress\"]),\n\n    async forwardToCustodyUi() {\n      const vars = this.$store.getters.variables;\n      if (!vars.walletCustodyUI) return;\n      const target = new URL(vars.walletCustodyUI);\n      target.searchParams.append(\"action\", \"select\");\n      target.searchParams.append(\"redirect_uri\", window.location.href);\n      window.location.assign(target.href);\n    },\n    async checkAndReceiveAddress() {\n      const url = new URL(window.location)\n      if (url.searchParams.has(\"address\")) {\n        await this.applyCurrentWalletAddress(url.searchParams.get(\"address\"));\n        addVisitedWallet(url.searchParams.get(\"address\"));\n        url.searchParams.delete(\"address\")\n        window.history.replaceState(null, \"\", url.href);\n      } else { // see if we can use the first address from the storeage\n        const first = await getFirstWallet();\n        if(first) {\n          await this.applyCurrentWalletAddress(first);\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletCustodySelection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletCustodySelection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletCustodySelection.vue?vue&type=template&id=08cb15c4&\"\nimport script from \"./WalletCustodySelection.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletCustodySelection.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('custody-selection',{attrs:{\"name\":\"in-page\",\"value\":_vm.activateWalletSelection}}),_c('v-row',[_vm._l((_vm.visitedWalletsDetails),function(wallet){return _c('v-col',{key:wallet.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"},on:{\"click\":function($event){return _vm.selectThisWallet(wallet.address)}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('eth-avatar-icon',{attrs:{\"value\":wallet.address}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(wallet.address)+\" \")]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_vm._v(\" \"+_vm._s(wallet.balance / 10**9)+\" GWei \")])],1)],1)],1)}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){_vm.activateWalletSelection=true}}},[_vm._v(\"Visit the custody service to get a new wallet\")])],1)],1),(_vm.currentAddress)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-subtitle',[_vm._v(\"Crypto transfer - for convenience only\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"amount of GWei\",\"type\":\"number\"},model:{value:(_vm.cryptoGWeiAmount),callback:function ($$v) {_vm.cryptoGWeiAmount=$$v},expression:\"cryptoGWeiAmount\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"target account address\",\"type\":\"text\"},model:{value:(_vm.cryptoTransferTarget),callback:function ($$v) {_vm.cryptoTransferTarget=$$v},expression:\"cryptoTransferTarget\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.executeCryptoTransfer}},[_vm._v(\"Ok\")])],1)],1)],1)],1):_vm._e()],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import BigInt from \"bigint-polyfill\";\nimport { BigNumber } from \"bignumber.js\";\nexport const GWEI_FACTOR = Math.pow(10, 9)\nexport const ETH_FACTOR = Math.pow(10, 18)\n/**\n * Convert to BigNumber\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toWebBigInt(bi) {\n  return new BigNumber(bi);\n}\n\n/**\n * Convert to normal number\n * @param {BigNumber} bi \n * @returns Number\n */\nexport function toNumber(bi) {\n  return bi.toNumber();\n}\n\n/**\n * Convert wei to gwei\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toGWei(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(GWEI_FACTOR));\n}\n/**\n * Convert wei to Ether\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toEther(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(ETH_FACTOR));\n}\n\nexport function toWei(bi, from) {\n  const n = toWebBigInt(bi);\n  if(from === \"ether\") return n.multipliedBy(ETH_FACTOR)\n  if(from === \"gwei\") return n.multipliedBy(GWEI_FACTOR)\n  return n\n}\n\n\n/**\n * convert to the polyfilled big int\n * @param {any} bi\n * @returns {BigInt} \n */\n export function toBigInt(bi) {\n  return new BigInt(bi);\n}","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n    <custody-selection name=\"in-page\" :value=\"activateWalletSelection\"></custody-selection>\n      <v-row>\n        <v-col cols=\"12\" v-for=\"wallet of visitedWalletsDetails\" :key=\"wallet.address\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\" @click=\"selectThisWallet(wallet.address)\">\n            <v-row>\n              <v-col cols=\"1\" align-self=\"center\">\n                <eth-avatar-icon :value=\"wallet.address\"></eth-avatar-icon>\n              </v-col>\n              <v-col cols=\"6\" align-self=\"center\">\n                {{wallet.address}}\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                {{wallet.balance / 10**9}} GWei\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" >\n          <v-card outlined elevation=\"3\" class=\"pa-3\">\n            <v-btn color=\"secondary\" @click=\"activateWalletSelection=true\">Visit the custody service to get a new wallet</v-btn>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" v-if=\"currentAddress\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\">\n            <v-card-subtitle>Crypto transfer - for convenience only</v-card-subtitle>\n            <v-row>\n              <v-col cols=\"5\" align-self=\"center\">\n                <v-text-field label=\"amount of GWei\" type=\"number\" v-model=\"cryptoGWeiAmount\"></v-text-field></v-col>\n              <v-col cols=\"6\" align-self=\"center\">\n                <v-text-field label=\"target account address\" type=\"text\" v-model=\"cryptoTransferTarget\" ></v-text-field></v-col>\n              <v-col cols=\"1\" align-self=\"center\">\n                <v-btn @click=\"executeCryptoTransfer\" >Ok</v-btn></v-col>\n            </v-row>\n            \n           \n            \n          </v-card>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { storage, ethereum, storageNames, ensureFlag, connectToNode } from \"../lib/api\";\nimport { toWei } from \"../lib/numbers\";\nimport { notifySuccess, walletAuthDialog } from '../store';\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nimport { Crypto } from \"@saturn-chain/dlt-tx-data-functions\";\n\n\nconst visitedWalletName = storageNames.walletAddresses;\nexport default {\n  components: {\n    EthAvatarIcon, \n    CustodySelection: () => import(\"./WalletCustodySelection.vue\") // Very odd behaviour but this is to avoid the did you register the component correctly? For recursive components, make sure to provide the \"name\" option error\n  },\n  data() {\n    return {\n      transactionInProgress: false,\n      visitedWallets: [],\n      visitedWalletsDetails: [],\n      activateWalletSelection: false,\n      cryptoGWeiAmount: undefined,\n      cryptoTransferTarget: undefined,\n    }\n  },\n  async mounted() {\n    this.visitedWallets = await storage().getItem(visitedWalletName) || [];\n    await this.fillWalletDetails();\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n  },\n  methods: {\n    ...mapActions([ \"applyCurrentWalletAddress\"]),\n    async fillWalletDetails() {\n      const eth = ethereum();\n      const arrayResult = [];\n      for (const address of this.visitedWallets) {\n        const detail = {address};\n        detail.balance = await eth.getBalance(address)\n        arrayResult.push(detail);\n      }\n      this.visitedWalletsDetails = arrayResult;\n    },\n\n    async selectThisWallet(address) {\n      await addVisitedWallet(address);\n      await this.applyCurrentWalletAddress(address);\n    },\n\n    async executeCryptoTransfer() {\n      if (!this.cryptoGWeiAmount || this.cryptoGWeiAmount<=0) return;\n      if (!this.cryptoTransferTarget) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = toWei(this.cryptoGWeiAmount, \"gwei\");\n        await Crypto.transfer(intf.send({maxGas:30000, amount: \"0x\"+amount.toString(16) }), this.cryptoTransferTarget);\n        notifySuccess(`Transfer of ${this.cryptoGWeiAmount} GWei to ${this.cryptoTransferTarget} completed.`)\n        await this.fillWalletDetails();\n        this.cryptoGWeiAmount = undefined;\n        this.cryptoTransferTarget = undefined;\n      })\n    }\n  }\n}\nexport async function addVisitedWallet(address) {\n  let current = await storage().getItem(visitedWalletName) || [];\n  current = current.filter(a=>a!==address); // remove from the array if it exists\n  current.unshift(address) ; // add in front of the array\n  await storage().setItem(visitedWalletName, current);\n}\nexport async function getFirstWallet() {\n  const current = await storage().getItem(visitedWalletName) || [];\n  if(current && Array.isArray(current) && current.length>0) {\n    return current[0];\n  } else return undefined;\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletsPage.vue?vue&type=template&id=aec8851a&\"\nimport script from \"./WalletsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nexport class AsyncLocalStorage {\n  constructor(keys) {\n    this.keyList = keys || [];\n  }\n  async getItem(key) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    const v = window.localStorage.getItem(key);\n    if (!v) return undefined;\n    return JSON.parse(v);\n  }\n  async setItem(key, value) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    if (!value) window.localStorage.removeItem(key)\n    else window.localStorage.setItem(key, JSON.stringify(value));\n    return;\n  }\n  async getAll() {\n    const result = {};\n    for (const key of this.keyList) {\n      result[key] = await this.getItem(key);\n    }\n    return result\n  }\n  async setAll(group) {\n    for (const key of Object.keys(group)) {\n      await this.setItem(key, group[key]);\n    }\n  }\n}\n","import { WalletCustodyApiImpl } from \"@saturn-chain/wallet-custody-rest-api\";\nimport {  } from \"@saturn-chain/dlt-tx-data-functions\";\nimport {  } from \"@saturn-chain/smart-contract\";\nimport { Web3CustodyFunctionProvider } from \"@saturn-chain/web3-custody-functions\";\nimport CashBankContracts from \"sc-bank-account\";\n\nimport Web3 from \"web3\";\nimport { AsyncLocalStorage } from \"./async-local-storage\";\nimport { mapAddr } from \"./eventlog-formatter\";\n// import { toNumber, toGWei, toWei } from \"./numbers\";\n\nlet currentAccessToken;\nexport function setAccessToken(token) {\n  currentAccessToken = token;\n  console.log(\"To be removed when currentAccessToken is used\", currentAccessToken);\n}\n\n\nexport const storageNames = {\n  walletAddresses: \"bank-visited-wallets\",\n  bankAddress: \"bank-smart-contract-address\",\n  accountAddresses: \"bank-account-addresses\",\n  registeredBankAddresses:  \"bank-linked-banks-registered\",\n  mainConfig: \"application-configuration-variables\",\n}\n\nconst _localStorage = new AsyncLocalStorage(Object.values(storageNames));\nexport function storage() {\n  return _localStorage;\n}\n\n\nlet initialized = false;\nlet variables = undefined;\nlet web3 = new Web3();\nlet custodyApi = new WalletCustodyApiImpl(\"http://pseudo\", \"eth\");\nlet IOUContract = CashBankContracts.get(\"IOU\");\nlet iouInstance = IOUContract.at(\"\");\nlet BankContract = CashBankContracts.get(\"CommercialBankCash\");\nlet AccountContract = CashBankContracts.get(\"BankAccount\");\n\nexport async function initApis(_variables) {\n  variables = _variables;\n  console.log(\"Initializing api with variables\", {...variables});\n  const ws = new Web3.providers.WebsocketProvider(variables.web3WebSocketUrl, {reconnect: {auto: true, delay:400, onTimeout: true}})\n  web3 = new Web3(ws);\n  custodyApi = new WalletCustodyApiImpl(variables.walletCustodyService, \"eth\");\n  iouInstance = IOUContract.at(variables.IOUAddress);\n  mapAddr(iouInstance.deployedAt, \"IOU\");\n  const chainId = await web3.eth.getChainId();\n  console.log(\"Connected to chain\", chainId);\n  initialized = true;\n}\n\nfunction requireInitialized() {\n  if (!initialized) throw new Error(\"Use the initApis() function first\");\n}\n\nexport function connectToNode(address, asyncAuthFunction, newWeb3 = false) {\n  requireInitialized();\n  let _web3 = web3;\n  // important node: the newWeb3 is a flg to force the creation of a new Web3 instance.\n  // this is important for situations where the json-rpc id is duplicated because two requests gets submitted at the same time\n  // So one of the stream is better having a second instance ! \n  if (newWeb3) {\n    const ws = new Web3.providers.WebsocketProvider(variables.web3WebSocketUrl, {reconnect: {auto: true, delay:400, onTimeout: true}})\n    _web3 = new Web3(ws);\n  }\n  if (! _web3.utils.isAddress(address)) throw new Error(\"Provide a valid Ethereum address\");\n  if (typeof asyncAuthFunction !== \"function\") throw new Error(\"Expect an asynchronous function to ba called to authenticate the wallet\");\n  const intf = new Web3CustodyFunctionProvider(\n    _web3.currentProvider,\n    custodyApi,\n    address,\n    asyncAuthFunction\n  )\n  return intf;\n}\n\nexport function ethereum() {\n  requireInitialized();\n  \n  return web3.eth;\n}\nexport function toHex(v) {\n  requireInitialized();\n  return web3.utils.toHex(v);\n}\nexport const Iban = {\n  from: (address)=>web3.eth.Iban.toIban(address),\n  to: (iban)=>web3.eth.Iban.toAddress(iban),\n} \n\nexport function custody() {\n  requireInitialized();\n  return custodyApi;\n}\n\nexport function iou() {\n  requireInitialized();\n  return iouInstance;\n}\n\nexport function bankContract() {\n  return BankContract;\n}\n\nexport function accountContract() {\n  return AccountContract;\n}\n\nexport async function ensureFlag(component, flagName, execFunc) {\n  try {\n    component[flagName] = true;\n    await execFunc()\n  } finally {\n    component[flagName] = false;\n  }\n}","export function calcEventLogUniqueId(protocol, block, transaction, log) {\n  return (\n    protocol + \":\" +\n    String(block).padStart(8, \"0\") +\n    String(transaction).padStart(3, \"0\") +\n    String(log).padStart(3, \"0\")\n  );\n}\n\nconst mapAddress = new Map();\nmapAddr(\"0x0000000000000000000000000000000000000000\", \"@Zero\");\n\nfunction low(v) {\n  if(v) return v.toLowerCase() \n  return v;\n}\n\nexport function mapAddr(address, name) {\n  mapAddress.set(low(address), name);\n}\n\nexport function formatLog(prefix, log) {\n  if (typeof prefix === \"object\" && log === undefined) {\n    log = prefix;\n    prefix = undefined;\n  }\n  return formatEventLogActual(prefix, log);\n}\n\nfunction formatEventLogActual(prefix, log) {\n  if (!log.event) return;\n  const params = { ...log.returnValues };\n  for (const key of Object.keys(params)) {\n    if (Number.isInteger(Number.parseInt(key))) delete params[key];\n    if (mapAddress.has(low(params[key]))) params[key] = mapAddress.get(low(params[key]));\n  }\n  if (mapAddress.has(low(log.address)))\n    log.address = mapAddress.get(low(log.address)) || \"undefined\";\n  const paramsTxt = Object.keys(params)\n    .map((f) => `${f}:${params[f]}`)\n    .join(\", \");\n  return `LOG: ${prefix ? prefix + \": \" : \"\"}${log.blockNumber}/${\n    log.transactionIndex\n  }/${log.logIndex} ${log.address}.${log.event}(${paramsTxt})`;\n}\n\nexport function sortableId(log) {\n  if(!log) return \"\";\n  return calcEventLogUniqueId(\"eth\", log.blockNumber, log.transactionIndex, log.logIndex)\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('wallet-password',{ref:\"unique-wallet-password-id\"}),_c('snackbars',{ref:\"snackbars\"}),(!_vm.configurationOk)?_c('div',[_c('v-main',[_c('v-container',{staticClass:\"py-8 px-6\",attrs:{\"fluid\":\"\"}},[_c('configuration',{model:{value:(_vm.configurationOk),callback:function ($$v) {_vm.configurationOk=$$v},expression:\"configurationOk\"}})],1)],1)],1):_c('div',[_c('app-menu'),_c('v-main',[_c('v-container',{staticClass:\"py-8 px-6\",attrs:{\"fluid\":\"\"}},[(_vm.selectedItem == 'bank')?_c('bank-page'):_vm._e(),(_vm.selectedItem == 'account')?_c('accounts-page'):_vm._e(),(_vm.selectedItem == 'config')?_c('configuration'):_vm._e(),(_vm.selectedItem == 'wallets')?_c('wallets-page'):_vm._e(),(_vm.selectedItem == 'eventlog')?_c('event-logs'):_vm._e()],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawer),expression:\"!drawer\"}],attrs:{\"fab\":\"\",\"elevation\":\"3\",\"top\":\"\",\"left\":\"\"},on:{\"click\":function($event){_vm.drawer=!_vm.drawer}}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.currentAddress}})],1),_c('v-navigation-drawer',{attrs:{\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('wallet-custody-selection',{attrs:{\"value\":_vm.activateWalletSelection}}),_c('v-sheet',{staticClass:\"pa-4\",attrs:{\"color\":\"grey lighten-4\"}},[_c('v-avatar',{staticClass:\"mb-4\",attrs:{\"color\":\"grey darken-1\",\"size\":\"64\",\"rounded\":\"\"}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.currentAddress}})],1),(_vm.currentAddress)?_c('div',[_c('div',[_vm._v(_vm._s(_vm.currentAddress))]),_c('div',[_vm._v(_vm._s(_vm.walletBalance / 10**9)+\" GWei\")])]):_c('div',[_c('a',{on:{\"click\":function($event){_vm.activateWalletSelection = true}}},[_vm._v(\"Select a wallet\")])])],1),_c('v-divider'),_c('v-list',[_c('v-list-item-group',{attrs:{\"value\":_vm.value,\"mandatory\":\"\",\"color\":\"primary\"},on:{\"change\":function($event){return _vm.onChangeEvt($event)}}},_vm._l((_vm.links),function([icon, text, name]){return _c('v-list-item',{key:icon,attrs:{\"link\":\"\"}},[(name=='eventlog' && _vm.evtCount>0)?_c('v-list-item-icon',[_c('v-badge',{attrs:{\"content\":_vm.evtCount,\"color\":\"primary\"}},[_c('v-icon',[_vm._v(_vm._s(icon))])],1)],1):_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(text))])],1)],1)}),1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn fab elevation=\"3\" top left @click=\"drawer=!drawer\" v-show=\"!drawer\" > <eth-avatar-icon :value=\"currentAddress\"></eth-avatar-icon></v-btn>\n  <v-navigation-drawer v-model=\"drawer\" app >\n      <wallet-custody-selection :value=\"activateWalletSelection\"></wallet-custody-selection>\n      <v-sheet color=\"grey lighten-4\" class=\"pa-4\">\n        <v-avatar class=\"mb-4\" color=\"grey darken-1\" size=\"64\" rounded=\"\">\n          <eth-avatar-icon :value=\"currentAddress\"></eth-avatar-icon>\n        </v-avatar>\n\n        <div v-if=\"currentAddress\">\n          <div>{{currentAddress}}</div>\n          <div>{{walletBalance / 10**9}} GWei</div>\n        </div>\n        <div v-else><a @click=\"activateWalletSelection = true\">Select a wallet</a></div>\n      </v-sheet>\n\n      <v-divider></v-divider>\n\n      <v-list>\n        <v-list-item-group :value=\"value\" @change=\"onChangeEvt($event)\" mandatory color=\"primary\">\n          <v-list-item v-for=\"[icon, text, name] in links\" :key=\"icon\" link>\n            <v-list-item-icon v-if=\"name=='eventlog' && evtCount>0\"> <v-badge :content=\"evtCount\" color=\"primary\"><v-icon>{{ icon }}</v-icon></v-badge> </v-list-item-icon>\n            <v-list-item-icon v-else><v-icon>{{ icon }}</v-icon> </v-list-item-icon>\n\n            <v-list-item-content>\n              <v-list-item-title> {{ text }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport WalletCustodySelection from \"./WalletCustodySelection.vue\";\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nimport { ethereum } from \"../lib/api\";\n\nexport default {\n  components: {\n    WalletCustodySelection,\n    EthAvatarIcon,\n  },\n  props: ['value'],\n  data: ()=>({\n    drawer: null,\n    links: [\n      [\"mdi-bank\", \"Bank status\", \"bank\"],\n      [\"mdi-account-cash\", \"Client account\", \"account\"],\n      [\"mdi-wallet\", \"Wallets\", \"wallets\"],\n      [\"mdi-radar\", \"Confirmations\", \"eventlog\"],\n      [\"mdi-cog\", \"Configuration\", \"config\"],\n    ],\n    activateWalletSelection: false,\n    walletBalance: \"\",\n  }),\n  methods: {\n    ...mapActions([\"goToPage\"]),\n    onChangeEvt(ev) {\n      //this.$emit('input', this.links[ev][2])\n      this.goToPage(this.links[ev][2]);\n    },\n    async getWalletBalance() {\n      console.log(\"Getting wallet balance for \", this.currentAddress);\n      if (this.currentAddress) {\n        this.walletBalance = await ethereum().getBalance(this.currentAddress);\n      }\n    },\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n    evtCount() {\n      return this.$store.getters.newEventsCount;\n    },\n  },\n  watch: {\n    currentAddress() {\n      this.getWalletBalance();\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppMenu.vue?vue&type=template&id=0dc42c0e&\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Prepare the configuration\")])]),_vm._l((_vm.asArrayOf),function(v){return _c('v-col',{key:v.name,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-row',{staticClass:\"align-center align-self-baseline\"},[_c('v-col',{attrs:{\"cols\":\"6\",\"outlined\":\"\",\"tile\":\"\"}},[_c('v-text-field',{attrs:{\"label\":v.name,\"append-icon\":\"mdi-close\",\"rules\":[_vm.rules.notNull, v.valid]},on:{\"click:append\":function($event){_vm.variables[v.name]=''}},model:{value:(_vm.variables[v.name]),callback:function ($$v) {_vm.$set(_vm.variables, v.name, $$v)},expression:\"variables[v.name]\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"outlined\":\"\",\"tile\":\"\"}},[_c('span',[_vm._v(_vm._s(v.desc))])])],1)],1)],1)})],2),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"1\"}},[(_vm.isConfigValid)?_c('v-icon',{attrs:{\"color\":\"green\",\"x-large\":\"\"}},[_vm._v(\"mdi-thumb-up\")]):_c('v-icon',{attrs:{\"color\":\"red\",\"x-large\":\"\"}},[_vm._v(\"mdi-thumb-down\")])],1),_c('v-col',{attrs:{\"cols\":\"11\"}},[(_vm.isConfigValid)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.saveConfiguration}},[_vm._v(\"Save configuration\")]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"},on:{\"click\":_vm.saveConfigToFile}},[_c('v-btn',[_vm._v(\"Download config\")])],1),_c('v-col',{attrs:{\"cols\":\"4\",\"align-self\":\"center\"}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"label\":\"place the file that contains the saved config\"},model:{value:(_vm.configFile),callback:function ($$v) {_vm.configFile=$$v},expression:\"configFile\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"},on:{\"click\":_vm.loadConfigFromFile}},[_c('v-btn',[_vm._v(\"Load config\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport function download(filename, text) {\n  var element = document.createElement('a');\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n  element.setAttribute('download', filename);\n\n  element.style.display = 'none';\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n}\n\n","<template>\n  <v-container>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <h1>Prepare the configuration</h1>\n        </v-col>\n        <v-col cols=\"12\" v-for=\"v in asArrayOf\" :key=\"v.name\">\n          <v-card outlined elevation=\"3\" class=\"pa-4\">\n            <v-row class=\"align-center align-self-baseline \">\n              <v-col cols=\"6\" outlined tile>\n                <v-text-field\n                  :label=\"v.name\"\n                  append-icon=\"mdi-close\"\n                  v-model=\"variables[v.name]\"\n                  :rules=\"[rules.notNull, v.valid]\"\n                  @click:append=\"variables[v.name]=''\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"6\" outlined tile>\n                <span>{{ v.desc }}</span>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"1\" >\n          <v-icon color=\"green\" x-large v-if=\"isConfigValid\">mdi-thumb-up</v-icon>\n          <v-icon color=\"red\" x-large v-else>mdi-thumb-down</v-icon>\n        </v-col>\n        <v-col cols=\"11\">\n          <v-btn color=\"primary\"\n            v-if=\"isConfigValid\"\n            @click=\"saveConfiguration\"\n          >Save configuration</v-btn>\n        </v-col>\n        <v-col cols=\"2\" align-self=\"center\" @click=\"saveConfigToFile\">\n          <v-btn >Download config</v-btn>\n        </v-col>\n        <v-col cols=\"4\" align-self=\"center\">\n          <v-file-input show-size label=\"place the file that contains the saved config\" v-model=\"configFile\"></v-file-input>\n        </v-col>\n        <v-col cols=\"6\" align-self=\"center\" @click=\"loadConfigFromFile\">\n          <v-btn >Load config</v-btn>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { storage, storageNames } from \"../lib/api\";\nimport { download } from \"../lib/files\";\n\nfunction isValidUrl(url) {\n  if(!url) return false;\n  try {\n    const u = new URL(url)\n    return !!u\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction isValidEthereumAddress(address) {\n  if (!address) return false;\n  if (typeof address !==\"string\") return false;\n  return (address.length === 42 && address.startsWith(\"0x\"));\n}\n\nconst storageName = storageNames.mainConfig;\nconst variableDefinitions = {\n  IOUAddress: {\n    typeof: \"string\",\n    order: 1,\n    desc: \"The address of the IOU smart contract in the blockchain\",\n    valid: v=>isValidEthereumAddress(v) || \"Enter an Ethereum address\",\n  },\n  walletCustodyService: {\n    typeof: \"string\",\n    order: 2,\n    desc: \"The url of the wallet custody service\",\n    valid: v=>isValidUrl(v) || 'Enter a valid url',\n  },\n  walletCustodyUI: {\n    typeof: \"string\",\n    order: 3,\n    desc: \"The url of the wallet custody interface\",\n    valid: v=>isValidUrl(v) || 'Enter a valid url',\n  },\n  web3WebSocketUrl: {\n    typeof: \"string\",\n    order: 4,\n    desc: \"The ws url of the web3 compatible node (typically infura url)\",\n    valid: v=>(v && isValidUrl(v) /*&& v.startsWith(\"ws\")*/)  || 'Enter a valid websocket url',\n  },\n  blockchainExplorer: {\n    typeof: \"string\",\n    order: 5,\n    desc: \"The blockchain explorer web site (typically etherscan). Should implements /tx/<tx>; /address/<address>; /token/<address>. Optional\",\n    valid: v=>(!v || isValidUrl(v)) || \"Optionally provide a valid url\"\n  }\n};\n\nexport default {\n  props: {\n    value: Boolean\n  },\n  data: () => {\n    return {\n      rules: {\n        notNull: (v)=>(v!==undefined && v!==null) || \"Cannot accept null\",\n      },\n      variables: {\n        // will be filled by the variable definitions\n      },\n      saved: false,\n      configFile: undefined,\n    };\n  },\n  async mounted() {\n    await this.getSourceOfVariables();\n  },\n  computed: {\n    asArrayOf() {\n      const allKeys = Object.keys(variableDefinitions);\n      return allKeys\n        .map((key) => ({\n          name: key,\n          typeof: variableDefinitions[key].typeof,\n          order: variableDefinitions[key].order,\n          desc: variableDefinitions[key].desc,\n          value: this.variables[key],\n          valid: variableDefinitions[key].valid,\n        }))\n        .sort((a, b) => a.order - b.order);\n    },\n    isConfigValid() {\n      for (const v of this.asArrayOf) {\n        // if (v.value===undefined || v.value===null) return false;\n        if (v.valid(v.value) !== true) return false;\n      }\n      return true;\n    }\n  },\n  watch: {\n    asArrayOf() {\n      this.saved = false;\n    },\n    saved() {\n      this.$emit('input', this.isConfigValid && this.saved);\n    }, \n    isConfigValid() {\n      this.$emit('input', this.isConfigValid && this.saved);\n    }\n  },\n  methods: {\n    ...mapActions([\"goToPage\", \"applyVariables\"]),\n    async getSourceOfVariables() {\n      let shouldBeSaved = false;\n      let config = undefined;\n      // first test the query string for the presence of config-url\n      const location = new URL(window.location);\n      if (location.searchParams.has(\"config-url\")) {\n        try {\n          const url = new URL(location.searchParams.get(\"config-url\"));\n          const res = await fetch(url.href);\n          const content = await res.json();\n          location.searchParams.delete(\"config-url\");\n          window.history.replaceState(null, \"\", location.href);\n          if (content[storageName]) { // we are loading a file with all attributes not just variables\n            config = content[storageName];\n            delete content[storageName]; \n            await storage().setAll(content); // save except the variables that will be displayed for validation\n          } else { // the file only contains the variables\n            config = content;\n          }\n        } catch (error) {\n          console.warn(\n            \"the config file is not usable\",\n            location.searchParams.get(\"config-url\"),\n            error\n          );\n        }\n      }\n\n      // then look into the local storage\n      if (!config) {\n        try {\n          const content = await storage().getItem(storageName);\n          if (!content)\n            throw new Error(\n              \"no configuration available in storage. key = \" + storageName\n            );\n          shouldBeSaved = true;\n          config = content;\n        } catch (error) {\n          console.warn(\"the config is not in storage\", error.message);\n        }\n      }\n\n      // else create an empty structure\n      if (!config) {\n        config = {};\n      }\n\n      // remove unexpected variables, add missing ones\n      const allKeys = Object.keys(variableDefinitions);\n      for (const key of Object.keys(config)) {\n        if (!allKeys.includes(key)) delete config[key];\n      }\n      for (const key of allKeys) {\n        if (!(key in config)) config[key] = \"\";\n      }\n\n      // set the component prop\n      this.variables = config;\n      if(shouldBeSaved) await this.saveConfiguration();\n    },\n    async saveConfiguration() {\n      try {\n        await storage().setItem(storageName, this.variables);\n        await this.applyVariables(this.variables);\n        this.saved = true;\n      } catch (error) {\n        console.error(\"Fail saving the configuration\", error)\n      }\n    },\n    async saveConfigToFile() {\n      const content = await storage().getAll();\n      const name = (location.origin + \"_\" + location.pathname).replace(/\\//g, \"_\") + \".json\"\n      download(name, JSON.stringify(content, null, 2));\n    },\n    async loadConfigFromFile() {\n      console.log(\"Config file\", this.configFile);\n      if (!this.configFile) return;\n      let content = await this.configFile.text();\n      content = JSON.parse(content);\n      console.log(\"content loaded\", content);\n      await storage().setAll(content)\n      await this.getSourceOfVariables()\n      // force a reload of the page after loading the config\n      window.location.reload();\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Configuration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Configuration.vue?vue&type=template&id=1409723a&\"\nimport script from \"./Configuration.vue?vue&type=script&lang=js&\"\nexport * from \"./Configuration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"This Bank : \"+_vm._s(_vm.currency)+\" \")]),_vm._v(\"with \"+_vm._s(_vm.decimals)+\" decimals \")]),(!_vm.bankInstance)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"The instance of the bank does not exists or is unknown.\")]),_c('div',[_vm._v(\"If you have the address paste it here :\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"11\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"bank smart contract\",\"append-icon\":\"mdi-close\"},on:{\"click:append\":function($event){_vm.capturedBankAddress = ''}},model:{value:(_vm.capturedBankAddress),callback:function ($$v) {_vm.capturedBankAddress=$$v},expression:\"capturedBankAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.saveBankSmartContract(_vm.capturedBankAddress)}}},[_vm._v(\"Ok\")])],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_vm._v(\" If you do not have a bank instance in the blockchain create it now \")]),_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.createBankInstance}},[_vm._v(\"Create the bank\")])],1)],1)],1):_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"Bank instance: \"),_c('expl-a',{attrs:{\"value\":_vm.bankInstance.deployedAt,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"Bank instance owner: \"),_c('expl-a',{attrs:{\"value\":_vm.owner}})],1)]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Total commercial money supply in circulation: \"),_c('span',[_vm._v(_vm._s(_vm.formatting.format(_vm.totalSupply)))])]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" Total debt against other banks: \"),_c('span',{class:_vm.globalDebt<0?'red--text':'green--text'},[_vm._v(_vm._s(_vm.formatting.format(_vm.globalDebt)))])])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h2',[_vm._v(\"List of registered banks\")]),_vm._v(\"that you trust with debt you will accept on them\")]),_vm._l((_vm.registeredBankDetails),function(bank){return _c('v-col',{key:bank.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-title',[_vm._v(\"Bank \"),_c('expl-a',{attrs:{\"value\":bank.address,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"Owner: \"),_c('expl-a',{attrs:{\"value\":bank.owner}})],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('div',[_vm._v(\"Status: \"+_vm._s(bank.registered?\"Registered\":\"Not registered\"))]),_c('div',[_vm._v(\"We owe them: \"+_vm._s(_vm.formatting.format(bank.debtFromUs)))]),_c('div',[_vm._v(\"They owe us: \"+_vm._s(_vm.formatting.format(bank.debtToUs)))])]),(bank.debtToUs>0)?_c('v-col',{attrs:{\"cols\":\"6\",\"align-self\":\"end\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.confirmInterbankRepayment(bank.address, bank.debtToUs)}}},[_vm._v(\"Confirm you received the payment of \"+_vm._s(_vm.formatting.format(bank.debtToUs)))])],1):_vm._e()],1)],1)],1)}),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-card-title',[_vm._v(\"Register a new bank\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"11\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"bank smart contract address\",\"append-icon\":\"mdi-close\"},on:{\"click:append\":function($event){_vm.capturedBankAddress = ''}},model:{value:(_vm.capturedBankAddress),callback:function ($$v) {_vm.capturedBankAddress=$$v},expression:\"capturedBankAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"1\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.addRegisteredBank(_vm.capturedBankAddress)}}},[_vm._v(\"Ok\")])],1)],1)],1)],1)],2)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.value)?_c('span',[_vm._t(\"default\",function(){return [_vm._v(_vm._s(_vm.value))]}),(_vm.blockchainExplorer)?_c('v-icon',{staticClass:\"pb-1\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.openInNew}},[_vm._v(\"mdi-open-in-new\")]):_c('v-icon',{staticClass:\"pb-1\",attrs:{\"small\":\"\",\"color\":\"red\",\"title\":\"Define the blockchain explorer!\"}},[_vm._v(\"mdi-open-in-new\")])],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"value\"><slot>{{value}}</slot>\n    <v-icon v-if=\"blockchainExplorer\" class=\"pb-1\" small color=\"primary\" @click=\"openInNew\">mdi-open-in-new</v-icon>\n    <v-icon v-else small color=\"red\" class=\"pb-1\" title=\"Define the blockchain explorer!\">mdi-open-in-new</v-icon>\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    value:String,\n    type:String\n  },\n  computed: {\n    blockchainExplorer() {\n      return this.$store.getters.variables?.blockchainExplorer;\n    }\n  },\n  methods: {\n    openInNew() {\n      let action = \"address/\";\n      if(this.type) {\n        action=`${this.type}/`;\n      } else {\n        if(this.value.length > 42) action = \"tx/\"\n      }\n      action = action + this.value;\n      const url = new URL(action, this.blockchainExplorer);\n      window.open(url.href, \"_blank\");\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExplorerLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExplorerLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorerLink.vue?vue&type=template&id=1e8af94e&\"\nimport script from \"./ExplorerLink.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorerLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <h2>This Bank : {{ currency }} </h2>with {{ decimals }} decimals\n        </v-col>\n        <v-col cols=\"12\" v-if=\"!bankInstance\">\n          <div>The instance of the bank does not exists or is unknown.</div>\n          <div>If you have the address paste it here :</div>\n          <v-row>\n            <v-col cols=\"11\" align-self=\"center\">\n              <v-text-field\n                label=\"bank smart contract\"\n                append-icon=\"mdi-close\"\n                v-model=\"capturedBankAddress\"\n                @click:append=\"capturedBankAddress = ''\"\n              ></v-text-field>\n            </v-col>\n            <v-col cols=\"1\" align-self=\"center\">\n              <v-btn\n                color=\"secondary\"\n                small\n                @click=\"saveBankSmartContract(capturedBankAddress)\"\n                >Ok</v-btn\n              >\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" align-self=\"center\">\n              If you do not have a bank instance in the blockchain create it now\n            </v-col>\n            <v-col cols=\"6\" align-self=\"center\">\n              <v-btn color=\"primary\" small @click=\"createBankInstance\"\n                >Create the bank</v-btn\n              >\n            </v-col>\n          </v-row>\n        </v-col>\n        <v-col cols=\"12\" v-else>\n          <v-row>\n            <v-col cols=\"12\" >\n              <div>Bank instance: <expl-a :value=\"bankInstance.deployedAt\" type=\"token\"></expl-a></div>\n              <div>Bank instance owner: <expl-a :value=\"owner\"></expl-a></div>\n            </v-col>\n            <v-col cols=\"12\" >\n              Total commercial money supply in circulation:\n              <span >{{ formatting.format(totalSupply) }}</span>\n            </v-col>\n            <v-col cols=\"12\" >\n              Total debt against other banks:\n              <span :class=\"globalDebt<0?'red--text':'green--text'\">{{ formatting.format(globalDebt) }}</span>\n            </v-col>\n          </v-row>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-row>\n            <v-col cols=\"12\"><h2>List of registered banks</h2>that you trust with debt you will accept on them</v-col>\n            <v-col\n              cols=\"12\"\n              v-for=\"bank in registeredBankDetails\"\n              :key=\"bank.address\"\n            >\n              <v-card outlined elevation=\"3\" class=\"pa-4\">\n                <v-card-title>Bank  &nbsp;<expl-a :value=\"bank.address\" type=\"token\"></expl-a></v-card-title>\n                <div>Owner: <expl-a :value=\"bank.owner\"></expl-a></div>\n                <v-row>\n                  <v-col cols=\"6\">\n                    <div>Status: {{ bank.registered?\"Registered\":\"Not registered\" }}</div>\n                    <div>We owe them: {{ formatting.format(bank.debtFromUs) }}</div>\n                    <div>They owe us: {{ formatting.format(bank.debtToUs) }}</div>\n                  </v-col>\n                  <v-col cols=\"6\" align-self=\"end\" v-if=\"bank.debtToUs>0\">\n                    <v-btn @click=\"confirmInterbankRepayment(bank.address, bank.debtToUs)\">Confirm you received the payment of {{formatting.format(bank.debtToUs)}}</v-btn>\n                  </v-col>\n                </v-row>\n              </v-card>\n            </v-col>\n            <v-col cols=\"12\">\n              <v-card outlined elevation=\"3\" class=\"pa-4\">\n                <v-card-title>Register a new bank</v-card-title>\n                <v-row>\n                  <v-col cols=\"11\" align-self=\"center\">\n                    <v-text-field\n                      label=\"bank smart contract address\"\n                      append-icon=\"mdi-close\"\n                      v-model=\"capturedBankAddress\"\n                      @click:append=\"capturedBankAddress = ''\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"1\" align-self=\"center\">\n                    <v-btn\n                      color=\"secondary\"\n                      small\n                      @click=\"addRegisteredBank(capturedBankAddress)\"\n                      >Ok</v-btn\n                    >\n                  </v-col>\n                </v-row>\n              </v-card>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {\n  ethereum,\n  connectToNode,\n  iou,\n  bankContract,\n  storage,\n  ensureFlag,\n  storageNames,\n} from \"../lib/api\";\nimport { mapActions } from \"vuex\";\nimport { notifySuccess, walletAuthDialog } from \"../store\";\nimport ExplA from \"./ExplorerLink.vue\";\n\nconst registeredBankName = storageNames.registeredBankAddresses;\n\nexport default {\n  components: {ExplA},\n  data() {\n    return {\n      transactionInProgress: false,\n      walletBalance: \"\",\n      currency: \"\",\n      decimals: 0,\n      owner: \"\",\n      capturedBankAddress: \"\",\n      registeredBanks: [],\n      registeredBankDetails: [],\n      globalDebt: 0,\n      totalSupply: 0,\n      formatting: new Intl.NumberFormat('en', {minimumFractionDigits: 2}),\n    };\n  },\n  async mounted() {\n    await this.$nextTick() // needed to delay the variables initializtion after the loading of the page\n    this.registeredBanks = await storage().getItem(registeredBankName) || [];\n    try {\n      await this.getBankCurrencyFromIOU();\n      await this.getIOUGlobalDebt();\n      await this.getBankDetails();\n      await this.getRegisteredBankDetails();\n    } catch (error) {\n      console.error(\"Failed initializing\", error)\n    }\n    this.formatting = new Intl.NumberFormat('en', {minimumFractionDigits: this.decimals , style: this.currency?\"currency\":undefined, currency: this.currency || undefined});\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n    bankInstance() {\n      if (this.$store.getters.bankSmartContract)\n        return bankContract().at(this.$store.getters.bankSmartContract);\n      else return undefined;\n    },\n  },\n  watch: {\n    async currentAddress() {\n      await this.getWalletBalance();\n    },\n    bankInstance(v) {\n      if (v) {\n        this.getIOUGlobalDebt();\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\"authenticateWallet\", \"saveBankSmartContract\"]),\n\n    async getWalletBalance() {\n      console.log(\"Getting wallet balance for \", this.currentAddress);\n      if (this.currentAddress) {\n        this.walletBalance = await ethereum().getBalance(this.currentAddress);\n      }\n    },\n    async getBankCurrencyFromIOU() {\n      if (!this.currentAddress) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      this.currency = await iou().symbol(intf.call());\n      this.decimals = Number.parseInt(await iou().decimals(intf.call()));\n    },\n\n    async createBankInstance() {\n      if (!this.currentAddress) return;\n      if (this.bankInstance) return; // do not create it twice\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const inst = await bankContract().deploy(\n          intf.newi({ maxGas: 3000000 }),\n          this.currency,\n          this.decimals,\n          iou().deployedAt\n        );\n        await this.saveBankSmartContract(inst.deployedAt);\n        notifySuccess(\"The bank smart contract has beed created.\")\n      })\n    },\n    async getBankDetails() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        this.owner = await this.bankInstance.owner(intf.call());\n        this.totalSupply = Number.parseFloat(await this.bankInstance.totalSupply(intf.call()));\n        this.totalSupply = this.totalSupply / 10**this.decimals;\n        console.log(\"Bank owner\", this.owner);\n      }\n    },\n    async getIOUGlobalDebt() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const unsigned = await iou().balanceOf(\n          intf.call(),\n          this.bankInstance.deployedAt\n        );\n        const sign = await iou().balanceSignOf(\n          intf.call(),\n          this.bankInstance.deployedAt\n        );\n        console.log(\"getIOUGlobalDebt\", sign, unsigned);\n        this.globalDebt =\n          (Number.parseInt(sign) * Number.parseInt(unsigned)) /\n          10 ** this.decimals;\n      }\n    },\n    async getRegisteredBankDetails() {\n      if (this.bankInstance && this.currentAddress) {\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n\n        const arrayResult = [];\n        for (const bank of this.registeredBanks) {\n          const detail = { address: bank };\n          const their = bankContract().at(bank);\n          detail.owner = await their.owner(intf.call());\n          detail.registered = await this.bankInstance.isBankRegistered(intf.call(), bank);\n          detail.debtFromUs = Number.parseFloat(\n            await iou().bankOwesTo(\n              intf.call(),\n              this.bankInstance.deployedAt,\n              bank\n            )\n          );\n          detail.debtToUs = Number.parseFloat(\n            await iou().bankOwesTo(\n              intf.call(),\n              bank,\n              this.bankInstance.deployedAt\n            )\n          );\n          detail.debtFromUs = detail.debtFromUs / 10**this.decimals\n          detail.debtToUs = detail.debtToUs / 10**this.decimals\n          arrayResult.push(detail);\n        }\n        this.registeredBankDetails = arrayResult;\n      }\n    },\n    async addRegisteredBank(address) {\n      if (this.bankInstance && this.currentAddress) {\n        await ensureFlag(this, 'transactionInProgress', async ()=>{\n          const intf = connectToNode(this.currentAddress, walletAuthDialog);\n          const ownerToCheck = await bankContract().at(address).owner(intf.call());\n          if (!ownerToCheck) throw new Error(\"The address of the smart contract is not a valid bank address\");\n          await this.bankInstance.registerBank(intf.send({maxGas:100000}), address);\n          this.registeredBanks.push(address);\n          await storage().setItem(registeredBankName, this.registeredBanks);\n          await this.getRegisteredBankDetails();\n          notifySuccess(\"The external bank has been registered.\")\n          this.capturedBankAddress = undefined;\n        })\n      }\n    },\n    async confirmInterbankRepayment(bank, debtToUs){\n      if (this.bankInstance && this.currentAddress) {\n        await ensureFlag(this, 'transactionInProgress', async ()=>{\n          const intf = connectToNode(this.currentAddress, walletAuthDialog);\n          await this.bankInstance.confirmInterbankPayment(intf.send({maxGas:100000}), bank, debtToUs * 10**this.decimals);\n          notifySuccess(`The debt of ${debtToUs} ${this.currency} has been cleared.`)\n          await this.getRegisteredBankDetails();\n          await this.getIOUGlobalDebt();\n        })\n      }\n    }\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BankPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BankPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BankPage.vue?vue&type=template&id=e7e3c80e&\"\nimport script from \"./BankPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BankPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-overlay',{attrs:{\"value\":_vm.transactionInProgress}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"outlined\":\"\",\"elevation\":\"3\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\",\"align-self\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.createNewAccount}},[_vm._v(\"Create new account\")])],1),_c('v-col',{attrs:{\"cols\":\"9\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"label\":\"New account name\",\"counter\":\"\"},model:{value:(_vm.newAccountName),callback:function ($$v) {_vm.newAccountName=$$v},expression:\"newAccountName\"}})],1)],1)],1)],1),_vm._l((_vm.accounts),function(account){return _c('v-col',{key:account.address,attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"pa-3\",attrs:{\"elevation\":_vm.selectedAccount==account.address?'12':'2',\"outlined\":_vm.selectedAccount==account.address?true:false},on:{\"click\":function($event){_vm.selectedAccount=account.address}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"}},[_c('div',[_vm._v(_vm._s(account.name))]),_c('div',[_vm._v(_vm._s(_vm.formatting.format(account.balance)))])]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[(_vm.selectedAccount==account.address)?_c('div',[_c('v-text-field',{attrs:{\"label\":\"amount\",\"type\":\"number\"},model:{value:(_vm.changeBalanceAmount),callback:function ($$v) {_vm.changeBalanceAmount=$$v},expression:\"changeBalanceAmount\"}}),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){return _vm.changeBalance(1)}}},[_vm._v(\"credit\")]):_vm._e(),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){return _vm.changeBalance(-1)}}},[_vm._v(\"debit\")]):_vm._e(),(!_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){_vm.showTransfer=true}}},[_vm._v(\"Transfer ...\")]):_vm._e(),(_vm.showTransfer)?_c('v-text-field',{attrs:{\"label\":\"target account address\",\"type\":\"text\"},model:{value:(_vm.transferToAddress),callback:function ($$v) {_vm.transferToAddress=$$v},expression:\"transferToAddress\"}}):_vm._e(),(_vm.showTransfer)?_c('v-btn',{on:{\"click\":function($event){_vm.showTransfer=false}}},[_vm._v(\"Cancel\")]):_vm._e(),(_vm.showTransfer)?_c('v-btn',{on:{\"click\":_vm.executeTransfer}},[_vm._v(\"Ok\")]):_vm._e()],1):_vm._e()]),_c('v-col',{attrs:{\"cols\":\"5\",\"align-self\":\"center\"}},[_c('div',[_vm._v(\"address: \"),_c('expl-a',{attrs:{\"value\":account.address,\"type\":\"token\"}})],1),_c('div',[_vm._v(\"IBAN: \"+_vm._s(account.iban))]),_c('div',[_vm._v(\"owner: \"),_c('expl-a',{attrs:{\"value\":account.owner}})],1),(_vm.selectedAccount==account.address)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"9\",\"align-self\":\"center\"}},[_c('v-text-field',{attrs:{\"messages\":\"Whitelist a wallet to grant access\",\"label\":\"grant access to\",\"type\":\"text\"},model:{value:(_vm.whitelistedAddress),callback:function ($$v) {_vm.whitelistedAddress=$$v},expression:\"whitelistedAddress\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\",\"align-self\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.whitelistAddress}},[_vm._v(\"Ok\")])],1)],1):_vm._e()],1)],1)],1)],1)})],2)],1),_c('div',{staticClass:\"mt-8\"},[_vm._v(\"*) Note on Iban: XE country code is not widely recognized by the banking community. Alternative encoding may be needed, such as having the bank smart contract provide a 2 letter prefix instead\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-overlay :value=\"transactionInProgress\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-layout row wrap>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-card outlined elevation=\"3\" class=\"pa-3\"> \n            <v-row>\n              <v-col cols=\"3\" align-self=\"center\">\n                <v-btn color=\"primary\" @click=\"createNewAccount\">Create new account</v-btn>\n              </v-col>\n              <v-col cols=\"9\" align-self=\"center\">\n                <v-text-field\n                  label=\"New account name\"\n                  counter\n                  v-model=\"newAccountName\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\" v-for=\"account in accounts\" :key=\"account.address\">\n          <v-card class=\"pa-3\" \n            @click=\"selectedAccount=account.address\"\n            :elevation=\"selectedAccount==account.address?'12':'2'\"\n            :outlined=\"selectedAccount==account.address?true:false\"\n          > \n            <v-row>\n              <v-col cols=\"2\" align-self=\"center\">\n                <div>{{account.name}}</div>\n                <div>{{formatting.format(account.balance)}}</div>\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                <div v-if=\"selectedAccount==account.address\">\n                  <v-text-field label=\"amount\" type=\"number\" v-model=\"changeBalanceAmount\"></v-text-field>\n                  <v-btn @click=\"changeBalance(1)\" v-if=\"!showTransfer\">credit</v-btn>\n                  <v-btn @click=\"changeBalance(-1)\" v-if=\"!showTransfer\">debit</v-btn>\n                  <v-btn @click=\"showTransfer=true\" v-if=\"!showTransfer\">Transfer ...</v-btn>\n                  <v-text-field label=\"target account address\" type=\"text\" v-model=\"transferToAddress\" v-if=\"showTransfer\"></v-text-field>\n                  <v-btn @click=\"showTransfer=false\" v-if=\"showTransfer\">Cancel</v-btn>\n                  <v-btn @click=\"executeTransfer\" v-if=\"showTransfer\">Ok</v-btn>\n                </div>\n              </v-col>\n              <v-col cols=\"5\" align-self=\"center\">\n                <div>address: <expl-a :value=\"account.address\" type=\"token\"></expl-a></div>\n                <div>IBAN: {{account.iban}}</div>\n                <div>owner: <expl-a :value=\"account.owner\"></expl-a></div>\n                <v-row v-if=\"selectedAccount==account.address\">\n                  <v-col cols=\"9\" align-self=\"center\">\n                    <v-text-field messages=\"Whitelist a wallet to grant access\"  label=\"grant access to\" type=\"text\" v-model=\"whitelistedAddress\" ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"3\" align-self=\"center\">\n                    <v-btn @click=\"whitelistAddress\" >Ok</v-btn>\n                  </v-col>\n                </v-row>\n              </v-col>\n\n                \n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-layout>\n    <div class=\"mt-8\">*) Note on Iban: XE country code is not widely recognized by the banking community. Alternative encoding may be needed, such as having the bank smart contract provide a 2 letter prefix instead</div>\n  </v-container>\n</template>\n\n<script>\nimport { connectToNode, storage, bankContract, accountContract, toHex, ensureFlag, Iban, storageNames } from \"../lib/api\";\nimport { mapAddr } from '../lib/eventlog-formatter';\nimport { notifySuccess, walletAuthDialog } from '../store';\nimport ExplA from \"./ExplorerLink.vue\";\n\nconst accountAddressesName = storageNames.accountAddresses;\nexport default {\n  components: {ExplA},\n  data(){\n    return {\n      transactionInProgress: false,\n      currency: \"\",\n      decimals: 0,\n      accountAddresses: [],\n      accounts: [],\n      newAccountName: \"\",\n      selectedAccount: \"\",\n      changeBalanceAmount: null,\n      formatting: new Intl.NumberFormat('en', {minimumFractionDigits: 2}),\n      showTransfer: false,\n      transferToAddress: undefined,\n      whitelistedAddress: undefined,\n    }\n  },\n  async mounted() {\n    \n    const l = await storage().getItem(accountAddressesName);\n    if (l && Array.isArray(l)) {\n      this.accountAddresses = l;\n      this.accounts = l.filter(a=>!!a).map(a=>({\n        address: a,\n        name: \"\",\n        balance: undefined,\n        owner: undefined,\n        iban: undefined\n      }));\n\n      await this.getCurrency();\n      this.formatting = new Intl.NumberFormat('en', {minimumFractionDigits: this.decimals , style: this.currency?\"currency\":undefined, currency: this.currency || undefined});\n\n      this.fillAccounts();\n    }\n  },\n  computed: {\n    currentAddress() {\n      return this.$store.getters.currentWalletAddress;\n    },\n    bankInstance() {\n      if (this.$store.getters.bankSmartContract) \n        return bankContract().at(this.$store.getters.bankSmartContract);\n      else \n        return undefined;\n    }\n  },\n  methods: {\n    async getCurrency() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      this.currency = await this.bankInstance.symbol(intf.call());\n      this.decimals = Number.parseInt(await this.bankInstance.decimals(intf.call()));\n      console.log(\"Currency: \", this.currency, this.decimals)\n    },\n    async saveAddresses() {\n      await storage().setItem(accountAddressesName, this.accountAddresses);\n    },\n    async fillAccounts(onlyAddress) {\n      if (!this.currentAddress) return;\n      const intf = connectToNode(this.currentAddress, walletAuthDialog);\n      const arrayToProcess = onlyAddress? [onlyAddress] : this.accountAddresses;\n      const arrayResult = [];\n      for (const address of this.accountAddresses) {\n        if (arrayToProcess.includes(address) ) {\n          const account = {address};\n          const inst = accountContract().at(account.address);\n          account.name = await inst.getAttributeStr(intf.call(), toHex(\"name\"));\n          console.log(\"Actual balance value\", await inst.balance(intf.call()))\n          account.balance = Number.parseFloat(await inst.balance(intf.call())) / 10**this.decimals;\n          account.owner = await inst.owner(intf.call());\n          account.iban = Iban.from(account.address);\n          mapAddr(account.address, account.name);\n          arrayResult.push(account);\n        } else {\n          arrayResult.push(this.accounts.find(a=>a.address === address));\n        }\n      }\n\n      this.accounts = arrayResult;\n    },\n    async createNewAccount() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.newAccountName) return;\n\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const inst = await accountContract().deploy(intf.newi({maxGas: 1200000}), this.newAccountName);\n        await inst.transferOwnership(intf.send({maxGas:50000}), this.bankInstance.deployedAt);\n        await this.bankInstance.registerAccount(intf.send({maxGas: 100000}), inst.deployedAt);\n        notifySuccess(`New account created.`)\n        this.accountAddresses = [...this.accountAddresses, inst.deployedAt];\n        await this.saveAddresses();\n        await this.fillAccounts(inst.deployedAt);\n      })\n\n    },\n    async changeBalance(sign) {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.selectedAccount) return;\n      if (!this.changeBalanceAmount) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = Math.round(this.changeBalanceAmount * 10**this.decimals)\n        if(sign > 0) {\n          await this.bankInstance.credit(intf.send({maxGas:100000}), this.selectedAccount, amount);\n          notifySuccess(`Account credited with ${this.changeBalanceAmount} ${this.currency}`)\n        } else {\n          await this.bankInstance.debit(intf.send({maxGas:100000}), this.selectedAccount, amount)\n          notifySuccess(`Account debited with ${this.changeBalanceAmount} ${this.currency}`)\n        }\n        this.changeBalanceAmount = undefined;\n        await this.fillAccounts(this.selectedAccount);\n      })\n    },\n    async executeTransfer() {\n      if (!this.currentAddress || !this.bankInstance) return;\n      if (!this.selectedAccount) return;\n      if (!this.changeBalanceAmount) return;\n      if (!this.transferToAddress) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const amount = Math.round(this.changeBalanceAmount * 10**this.decimals)\n        const account = accountContract().at(this.selectedAccount);\n        await account.transfer(intf.send({maxGas: 300000}), this.transferToAddress, amount);\n        notifySuccess(`Transfer ${this.changeBalanceAmount} ${this.currency} to account.`)\n        await this.fillAccounts(this.selectedAccount);\n        await this.fillAccounts(this.transferToAddress);\n        this.changeBalanceAmount = undefined;\n        this.transferToAddress = undefined;\n      })\n    },\n    async whitelistAddress() {\n      if (!this.currentAddress ) return;\n      if (!this.selectedAccount) return;\n      if (!this.whitelistedAddress) return;\n      await ensureFlag(this, 'transactionInProgress', async ()=>{\n        const intf = connectToNode(this.currentAddress, walletAuthDialog);\n        const account = accountContract().at(this.selectedAccount);\n        await account.whitelist(intf.send({maxGas: 50000}), this.whitelistedAddress);\n        notifySuccess(`Wallet whitelisted for the account.`)\n        this.whitelistedAddress = undefined;\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AccountsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountsPage.vue?vue&type=template&id=8349f6ae&\"\nimport script from \"./AccountsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"650px\"},model:{value:(_vm.displayAuthenticationDialog),callback:function ($$v) {_vm.displayAuthenticationDialog=$$v},expression:\"displayAuthenticationDialog\"}},[_c('v-card',[_c('v-card-title',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\",\"align-self\":\"center\"}},[_c('eth-avatar-icon',{attrs:{\"value\":_vm.walletAddress}})],1),_c('v-col',{attrs:{\"cols\":\"10\",\"align-self\":\"center\"}},[_c('div',{staticClass:\"text-h5\"},[_vm._v(\"Sign transaction with\")]),_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.walletAddress))])])],1)],1),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassword ? 'text' : 'password',\"name\":\"password\",\"label\":\"Enter the wallet password\",\"counter\":\"\",\"autofocus\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),(!!_vm.authenticationError)?_c('v-row',[_c('v-col',[_c('span',{staticClass:\"red--text text-h6\"},[_vm._v(_vm._s(_vm.authenticationError))])])],1):_vm._e()],1)],1),_c('v-card-actions',[_c('v-checkbox',{attrs:{\"label\":\"Remember my password for the session\"},model:{value:(_vm.rememberPassword),callback:function ($$v) {_vm.rememberPassword=$$v},expression:\"rememberPassword\"}}),_c('v-spacer'),_c('v-btn',{ref:\"close\",attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeAuthenticationDialog()}}},[_vm._v(\" Close \")]),_c('v-btn',{ref:\"verify\",attrs:{\"color\":\"primary darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.verifyAuthentication()}}},[_vm._v(\" Verify \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"displayAuthenticationDialog\" persistent max-width=\"650px\">\n    <v-card >\n      <v-card-title>\n        <v-row>\n          <v-col cols=\"2\" align-self=\"center\">\n            <eth-avatar-icon :value=\"walletAddress\"></eth-avatar-icon>\n          </v-col>\n          <v-col cols=\"10\" align-self=\"center\">\n            <div class=\"text-h5\">Sign transaction with</div>\n            <div class=\"text-h6\">{{ walletAddress }}</div>\n          </v-col>\n        </v-row>\n      </v-card-title>\n      <v-card-text>\n        <v-container>\n          <v-row>\n            <v-col>\n              <v-text-field\n                v-model=\"password\"\n                :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                name=\"password\"\n                label=\"Enter the wallet password\"\n                counter\n                autofocus\n                @click:append=\"showPassword = !showPassword\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row v-if=\"!!authenticationError\">\n            <v-col>\n              <span class=\"red--text text-h6\">{{ authenticationError }}</span>\n            </v-col>\n          </v-row>\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-checkbox label=\"Remember my password for the session\" v-model=\"rememberPassword\"></v-checkbox>\n        <v-spacer></v-spacer>\n        <v-btn ref=\"close\"  color=\"blue darken-1\" text @click=\"closeAuthenticationDialog()\">\n          Close\n        </v-btn>\n        <v-btn ref=\"verify\" color=\"primary darken-1\" text @click=\"verifyAuthentication()\">\n          Verify\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport EthAvatarIcon from \"./EthAvatarIcon.vue\";\nexport default {\n  components: {EthAvatarIcon},\n  data() {\n    return {\n      password: undefined,\n      walletAddress: undefined,\n      displayAuthenticationDialog: false,\n      showPassword: false,\n      authenticationError: undefined,\n      rememberPassword: false\n    }\n  },\n  methods: {\n    async closeAuthenticationDialog() {\n      // await this.completeAndEmitEvent(false);\n\n    },\n    async verifyAuthentication() {\n      // await this.completeAndEmitEvent(true);\n    },\n    async showDialog(address, errorMessage) {\n      // control if there is a concurrent use of the dialog with 2 different address\n      if (this.displayAuthenticationDialog && this.walletAddress !== address) {\n        throw new Error(\"The dialog cannot be used twice with 2 different addresses at the same time\")\n      }\n      // otherwise the code ca be re executed on the same instance\n      // double listener to return the password on ok / cancel\n      if (!this.displayAuthenticationDialog) {\n        this.displayAuthenticationDialog = true;\n        this.authenticationError = errorMessage;\n        this.walletAddress = address;\n      }\n      // important : ensures that the DOM is ready and the refs are available\n      await this.$nextTick();\n      const ret = await new Promise((resolve)=>{\n        this.$refs.verify.$once(\"click\", ()=>{resolve({address, password: this.password, keepPassword: this.rememberPassword, ok: true})})\n        this.$refs.close.$once(\"click\", ()=>{resolve({address, ok: false})})\n      })\n      this.displayAuthenticationDialog = false;\n      this.password = undefined\n      this.authenticationError = undefined;\n      this.walletAddress = undefined;\n      return ret;\n    }\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WalletPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletPassword.vue?vue&type=template&id=d77530d4&\"\nimport script from \"./WalletPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-simple-table',{attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left text-h6\"},[_vm._v(\"LOG: block/tx/index Initiator.Event(param1, param2, param3, ...)\")])])]),_c('tbody',_vm._l((_vm.eventsSorted),function(log){return _c('tr',{key:log.id,staticClass:\"pt-6\"},[_c('td',[_c('div',[_vm._v(_vm._s(log.formatted)+\" \")]),_c('div',{staticClass:\"text--secondary text-body-2\"},[_vm._v(\"Tx: \"),_c('expl-a',{attrs:{\"value\":log.transactionHash}})],1)])])}),0)]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n      <v-layout row wrap>\n        <v-simple-table fixed-header >\n          <template v-slot:default>\n            <thead>\n              <tr>\n                <th class=\"text-left text-h6\">LOG: block/tx/index Initiator.Event(param1, param2, param3, ...)</th>\n              </tr>\n            </thead>\n            <tbody >\n              <tr v-for=\"log in eventsSorted\" :key=\"log.id\" class=\"pt-6\">\n                <td>\n                  <div>{{log.formatted}} </div>\n                  <div class=\"text--secondary text-body-2\">Tx: <expl-a :value=\"log.transactionHash\"></expl-a></div>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n       \n      </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { formatLog, sortableId } from \"../lib/eventlog-formatter\";\nimport ExplA from \"./ExplorerLink.vue\";\n\nexport default {\n  components: {ExplA},\n  data() {\n    return {\n\n    }\n  },\n  mounted() {\n    this.resetEventsCount();\n  },\n\n  computed: {\n    eventsSorted() {\n      return this.$store.getters.events\n        .map(log=>({...log, formatted: formatLog(log), sortableId: sortableId(log)}))\n        .sort((log1, log2)=>-log1.sortableId.localeCompare(log2.sortableId))\n    }\n  },\n  methods: {\n    ...mapActions([\"resetEventsCount\"]),\n\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventLogs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventLogs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventLogs.vue?vue&type=template&id=088ac8c3&\"\nimport script from \"./EventLogs.vue?vue&type=script&lang=js&\"\nexport * from \"./EventLogs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.bars),function(bar){return _c('v-snackbar',{key:bar.id,ref:'bar-'+bar.id,refInFor:true,style:('top:'+bar.top+'px'),attrs:{\"app\":\"\",\"top\":\"\",\"right\":\"\",\"timeout\":bar.timeout,\"color\":bar.color,\"max-width\":\"150\"},on:{\"input\":function($event){return _vm.closingBar(bar)}},model:{value:(bar.visible),callback:function ($$v) {_vm.$set(bar, \"visible\", $$v)},expression:\"bar.visible\"}},[_c('v-icon',{staticClass:\"pr-2\"},[_vm._v(_vm._s(bar.icon || 'mdi-check-outline'))]),_vm._v(\" \"+_vm._s(bar.text)+\" \")],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-snackbar \n      v-for=\"(bar) in bars\" :key=\"bar.id\" \n      v-model=\"bar.visible\"\n      :ref=\"'bar-'+bar.id\"\n      app top right :timeout=\"bar.timeout\"\n      :color=\"bar.color\"\n      :style=\"'top:'+bar.top+'px'\"\n      max-width=\"150\"\n      @input=\"closingBar(bar)\"\n    >\n      <v-icon class=\"pr-2\">{{bar.icon || 'mdi-check-outline'}}</v-icon> {{bar.text}}\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nexport default {\n\n  data() {\n    return {\n      lastId: -1,\n      bars: []\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    closingBar() {\n      // console.log(\"Closing bar\", bar)\n      this.recalculateBars()\n    },\n    recalculateBars() {\n      let bars = this.bars.map(b=>({...b})); // make a copy\n      bars = bars.filter(b=>b.visible);\n      let top = 0;\n      for (const b of bars) {\n        b.top = top;\n        const els = this.$refs[`bar-${b.id}`];\n        if (Array.isArray(els) && els.length === 1) {\n          if (els[0].$el.firstElementChild) {\n            const el = els[0].$el.firstElementChild;\n            // console.log(\"bar\", b.id, el.offsetHeight)\n            top +=  el.offsetHeight + 10\n          }\n        }\n      }\n      // console.log(\"New list\", bars)\n      this.bars = bars;\n    },\n    addBar(bar) {\n      bar = {id: this.lastId++, visible: true, timeout: 10000, ... bar};\n      this.bars.push(bar);\n      this.recalculateBars();\n    },\n    addError(text, opts= {}) {\n      const bar = {color: \"red\", icon:\"mdi-message-alert-outline\", ...opts};\n      bar.text = text;\n      this.addBar(bar);\n    },\n    addConfirm(text, opts= {}) {\n      const bar = {color: \"green\", icon:\"mdi-check-outline\", ...opts};\n      bar.text = text;\n      this.addBar(bar);\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Snackbars.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Snackbars.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Snackbars.vue?vue&type=template&id=2aad8655&\"\nimport script from \"./Snackbars.vue?vue&type=script&lang=js&\"\nexport * from \"./Snackbars.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"inspire\">\n    <wallet-password ref=\"unique-wallet-password-id\"> </wallet-password>\n    <snackbars ref=\"snackbars\"></snackbars>\n    <!-- <v-system-bar app>\n      <v-spacer></v-spacer>\n\n      <v-icon>mdi-square</v-icon>\n\n      <v-icon>mdi-circle</v-icon>\n\n      <v-icon>mdi-triangle</v-icon>\n    </v-system-bar> -->\n\n    <!-- <login v-if=\"!loggedIn\"></login> -->\n    <div v-if=\"!configurationOk\">\n      <v-main>\n        <v-container class=\"py-8 px-6\" fluid>\n          <configuration v-model=\"configurationOk\"></configuration>\n        </v-container>\n      </v-main>\n    </div>\n    <div v-else>\n      <app-menu></app-menu>\n\n      <v-main>\n        <v-container class=\"py-8 px-6\" fluid>\n          <!-- <dashboard v-if=\"selectedItem == 'dashboard'\"></dashboard> -->\n          <bank-page v-if=\"selectedItem == 'bank'\"></bank-page>\n          <accounts-page v-if=\"selectedItem == 'account'\"></accounts-page>\n          <configuration v-if=\"selectedItem == 'config'\"></configuration>\n          <wallets-page v-if=\"selectedItem == 'wallets'\"></wallets-page>\n          <event-logs v-if=\"selectedItem == 'eventlog'\"></event-logs>\n        </v-container>\n      </v-main>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport AppMenu from \"./components/AppMenu.vue\";\n// import Login from \"./components/Login.vue\";\nimport Configuration from \"./components/Configuration.vue\";\nimport BankPage from \"./components/BankPage.vue\";\nimport AccountsPage from \"./components/AccountsPage.vue\";\nimport WalletPassword from \"./components/WalletPassword.vue\";\nimport WalletsPage from \"./components/WalletsPage.vue\";\nimport EventLogs from \"./components/EventLogs.vue\";\nimport Snackbars from \"./components/Snackbars.vue\";\n\nimport { mapActions } from \"vuex\";\nimport { mapAddr } from './lib/eventlog-formatter';\nimport { notifyError } from './store';\nexport default {\n  components: { \n    AppMenu, \n    // Login, \n    Configuration,\n    BankPage,\n    AccountsPage,\n    EventLogs,\n    WalletsPage,\n    WalletPassword,\n    Snackbars\n     },\n  data: () => ({\n    configurationOk: false,\n    pollingInError: false,\n    lastErrorMessage: \"\",\n  }),\n  computed: {\n    selectedItem() {\n      return this.$store.getters.activePage;\n    },\n    loggedIn() {\n      // use the below line to enable external IDP authentication with the Login.vue component\n      return true; // and remove this one\n      //return !!this.$store.getters.authenticated;\n    },\n    initializationReady() {\n      const bankSmartContractReady = !!this.$store.getters.bankSmartContract;\n      const variablesReady = !!this.$store.getters.variables.IOUAddress;\n      return variablesReady && bankSmartContractReady\n    }\n  },\n  watch: {\n    initializationReady(n, o) {\n      console.log(\"watched initializationReady\", n, o);\n      mapAddr(this.$store.getters.bankSmartContract, \"ThisBank\");\n      this.collectBankEvents({subscribe: true, fromBlock: 0});\n\n    }\n  },\n  methods: {\n    ...mapActions([\"loadData\", \"refreshAccessToken\", \"applyWalletPasswordDialog\", \"applySnackbars\", \"collectBankEvents\"]),\n  },\n  async mounted() {\n    console.log(\"applyWalletPasswordDialog\", this.$refs[\"unique-wallet-password-id\"])\n    await this.applyWalletPasswordDialog(this.$refs[\"unique-wallet-password-id\"]);\n    await this.applySnackbars(this.$refs[\"snackbars\"]);\n  },\n  errorCaptured(err) {\n    notifyError(err.message || err)\n    return false;\n  }\n};\n</script>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3e050856&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: '#007BFF',\n        secondary: '#424242',\n        accent: '#82B1FF',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FFC107'\n      },\n    },\n  },\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\nimport '@mdi/js'\n\nimport store from \"./store\";\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","const clientId = \"bf96b738-483a-4b00-8147-5bad2acf06ac\";\n\nexport async function refreshAccessToken(refreshToken) {\n  var urlencoded = new URLSearchParams();\n  urlencoded.append(\"grant_type\", \"refresh_token\");\n  urlencoded.append(\n    \"refresh_token\",\n    refreshToken\n  );\n  urlencoded.append(\"client_id\", clientId);\n  urlencoded.append(\"scope\", \"broker.read openid\");\n\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: urlencoded,\n    redirect: \"follow\",\n  };\n\n\n  const res = await fetch(\"https://trusstee.io/broker/token\", requestOptions)\n  if (res.ok) {\n    return await res.json();\n  } else {\n    throw new Error(\"Fail refreshing token \"+res.statusText);\n  }\n}\n\nexport async function silentRelogin(currentIssuer) {\n  if (!window.Trusstee) throw new Error(\"Trusstee script not initialized\");\n  const config = await window.Trusstee.createConfiguration({\n    issuer: \"https://trusstee.io/broker\",\n    client_id: clientId,\n    idp_hint: currentIssuer\n  });\n  const tokens = await window.Trusstee.silentOIDCLogin.promise(config);\n  return tokens;\n}\n\nexport async function popupLogin(currentIssuer) {\n  if (!window.Trusstee) throw new Error(\"Trusstee script not initialized\");\n  const config = await window.Trusstee.createConfiguration({\n    issuer: \"https://trusstee.io/broker\",\n    client_id: clientId,\n    idp_hint: currentIssuer,\n  });\n  const tokens = await window.Trusstee.popupOIDCLogin.promise(config);\n  return tokens;\n}","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nimport { setAccessToken, initApis, storage, bankContract, connectToNode, iou, storageNames } from \"./lib/api\";\nimport { refreshAccessToken, silentRelogin, popupLogin } from \"./lib/oauth2\";\n\n//let KeepReceiver;\nconst store = new Vuex.Store({\n  state: {\n    userIdentity: null,\n    serviceToken: \"service-token\",\n    oauth2Tokens: null,\n    tokenRefreshTimer: null,\n    activePage: \"\",\n\n    walletPasswordDialog: undefined,\n    snackbars: undefined,\n    variables: {},\n    currentWalletAddress: null,\n    bankSmartContract: undefined,\n    bankEventsCollectedFor: undefined,\n    events: [],\n    newEventsCount: 0\n  },\n  mutations: {\n    setUserIdentity(state, identity) {\n      state.userIdentity = identity;\n    },\n    setActivePage(state, page) {\n      state.activePage = page;\n    },\n    setOauth2Tokens(state, tokens) {\n      state.serviceToken = tokens.access_token;\n      state.oauth2Tokens = tokens;\n    },\n    setTokenRefreshTimer(state, timer) {\n      // ensure there is a single timer at any time\n      if (state.tokenRefreshTimer) clearTimeout(state.tokenRefreshTimer);\n      state.tokenRefreshTimer = timer;\n    },\n    setVariables(state, variables) {\n      state.variables = variables;\n    },\n    setCurrentWalletAddress(state, address) {\n      state.currentWalletAddress = address;\n    },\n    setWalletPasswordDialog(state, instance) {\n      state.walletPasswordDialog = instance;\n    },\n    setSnackbar(state, instance) {\n      if (\"addError\" in instance && \"addConfirm\" in instance) {\n        state.snackbars = instance;\n      }\n    },\n    setBankSmartContract(state, address) {\n      state.bankSmartContract = address;\n    },\n    setBankEventsCollectedFor(state, struct) {\n      state.bankEventsCollectedFor = struct;\n    },\n    addEvent(state, event) {\n      if (event.error) {\n        state.events.push(event);\n      } else {\n        // dedup events\n        const found = state.events.find(l=>l.blockNumber==event.blockNumber && l.transactionIndex==event.transactionIndex && l.logIndex==event.logIndex)\n        if (!found) {\n          state.events.push(event);\n          state.newEventsCount = state.newEventsCount +1;\n        }\n      }\n    },\n    setEventsCount(state, value) {\n      state.newEventsCount = value;\n    }\n  },\n  actions: {\n    async applyUserIdentity({ commit }, identity) {\n      commit(\"setUserIdentity\", identity);\n    },\n    async applyUserOauth2Tokens({ commit, dispatch }, tokens) {\n      setAccessToken(tokens.access_token);\n      commit(\"setOauth2Tokens\", tokens);\n\n      const timer = setTimeout(async () => {\n        await dispatch(\"refreshAccessToken\");\n      }, (tokens.expires_in - 10) * 1000);\n      commit(\"setTokenRefreshTimer\", timer);\n    },\n    async refreshAccessToken({state, dispatch}, redirect = true) {\n      const tokens = state.oauth2Tokens;\n      if (!tokens) return;\n      const refreshToken = tokens.refresh_token;\n      if (!refreshToken) return;\n      let newTokens;\n      try {\n        newTokens = await refreshAccessToken(refreshToken);\n        console.log(\"Token refreshed\", newTokens);\n      } catch (error) {\n        console.warn(\n          \"Fail refreshing the authentication. Trying iframe silent login\",\n          error\n        );\n        try {\n          newTokens = await silentRelogin(tokens.origin_issuer);\n          console.log(\"Token re login\", newTokens);\n        } catch (error) {\n          console.warn(\n            \"Fail silently updating the authentication. Trying popup login\",\n            error\n          );\n          try {\n            newTokens = await popupLogin(tokens.origin_issuer);\n            console.log(\"Token popup login\", newTokens);\n          } catch (error) {\n            console.error(\n              \"Fail updating the authentication in a popup\",\n              error\n            );\n          }\n        }\n      }\n      if (newTokens) {\n        newTokens.refresh_token = refreshToken;\n        await dispatch(\"applyUserOauth2Tokens\", newTokens);\n      } else {\n        if (redirect) {\n          window.location = window.location.href;\n        } else {\n          throw new Error(\"Fail to connect to the IDP\");\n        }\n      }\n    },\n    async goToPage({ commit, state }, page) {\n      if (state.activePage !== page) {\n        commit(\"setActivePage\", page);\n      }\n    },\n    async applyVariables({commit}, variables) {\n      await initApis(variables);\n      commit(\"setVariables\", variables);\n    },\n    async applyCurrentWalletAddress({commit}, address) {\n      commit(\"setCurrentWalletAddress\", address);\n    },\n    async applyWalletPasswordDialog({commit}, instance) {\n      commit(\"setWalletPasswordDialog\", instance);\n    },\n    async applySnackbars({commit}, instance) {\n      commit(\"setSnackbar\", instance);\n    },\n    async authenticateWallet({state}, { api, address}) {\n      const el = state.walletPasswordDialog\n      if (!el) throw new Error(\"Ensure the <wallet-password> element is configured \");\n      let token = undefined;\n      let errorMessage = undefined\n      let ret = {address, ok: true, password: undefined, keepPassword: false};\n      // try first to get the password from the session storage\n      ret.password = window.sessionStorage.getItem(\"pwd-\"+address);\n      while (!token ) {\n        // if not then get the password from the user interface\n        if(!ret.password) {\n          ret = await el.showDialog(address, errorMessage);\n        }\n        console.log(\"returned\", address, ret, token, errorMessage);\n        // console.log(\"returned\", ret);\n        if (!ret.ok) { // cancel clicked\n          return undefined;\n        }\n        try {\n          token = await api.authenticate(address, ret.password)\n\n          // if the authentication succeded then keep the password if requested\n          if (ret.keepPassword) {\n            window.sessionStorage.setItem(\"pwd-\"+address, ret.password)\n          }\n        } catch (error) {\n          // if authentication failed, forget the saved password\n          // window.sessionStorage.removeItem(\"pwd-\"+address);\n          ret.password = undefined;\n          console.log(\"failed\", error);\n          errorMessage = error.message;\n        }\n      }\n      console.log(\"Returning token\", token)\n      return token;\n    },\n    async intitializeFromStorage({commit}) {\n      const bank = await storage().getItem(storageNames.bankAddress);\n      commit(\"setBankSmartContract\", bank);\n    },\n    async saveBankSmartContract({commit}, address) {\n      commit(\"setBankSmartContract\", address);\n      await storage().setItem(storageNames.bankAddress, address);\n    },\n    async collectBankEvents({commit, state}, {subscribe, fromBlock}) {\n      if ( state.bankEventsCollectedFor && state.bankEventsCollectedFor.address == state.bankSmartContract) return; // only one registration\n      console.log(\"ready so subscribe\", subscribe, fromBlock);\n      const bank = bankContract().at(state.bankSmartContract);\n      // the last 'true' parameter is used to force the creation of a new web3 instance to avoid the subscription to loose its id\n      const intf = connectToNode(state.bankSmartContract, ()=>Promise.resolve(\"\"), true);\n      const func = subscribe ? intf.sub({fromBlock}) : intf.get({fromBlock});\n\n      const bankReceiver = bank.allEvents(func);\n      bankReceiver.on(\"log\", log=>{\n        // console.log(\"Log received bank\", log);\n        commit(\"addEvent\", log)})\n      bankReceiver.on(\"error\", err=>commit(\"addEvent\", {error:err}));\n\n      const iouReceiver = iou().allEvents(func);\n      iouReceiver.on(\"log\", log=>{\n        // console.log(\"Log received IOU\", log);\n        commit(\"addEvent\", log)})\n      iouReceiver.on(\"error\", err=>commit(\"addEvent\", {error:err}));\n\n      commit(\"setBankEventsCollectedFor\", {address: state.bankSmartContract, bankReceiver, iouReceiver});\n    },\n    async resetEventsCount({commit}) {\n      commit(\"setEventsCount\", 0);\n    }\n  },\n  getters: {\n    activePage(state) {\n      return state.activePage;\n    },\n    userIdentity(state) {\n      if (state.userIdentity) {\n        return {\n          email: state.userIdentity.email,\n          name: state.userIdentity.name,\n        };\n      } else\n        return {\n          email: \"\",\n          name: \"\",\n        };\n    },\n    userAccessToken(state) {\n      return state.serviceToken;\n    },\n    authenticated(state) {\n      return !!state.oauth2Tokens;\n    },\n    variables(state) {\n      return {...state.variables};\n    },\n    currentWalletAddress(state) {\n      return state.currentWalletAddress;\n    },\n    displayWalletPasswordDialog(state) {\n      return state.displayWalletPasswordDialog;\n    },\n    bankSmartContract(state) {\n      return state.bankSmartContract;\n    },\n    events(state) {\n      return state.events;\n    },\n    newEventsCount(state) {\n      return state.newEventsCount;\n    }\n  },\n});\nexport default store;\n\nasync function inits() {\n  await store.dispatch(\"intitializeFromStorage\")\n}\ninits();\n\nexport async function walletAuthDialog(address, api) {\n  return await store.dispatch(\"authenticateWallet\", {api, address})\n}\n\nexport function notifyError(message) {\n  store.state.snackbars.addError(message)\n} \nexport function notifySuccess(message) {\n  store.state.snackbars.addConfirm(message)\n} ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfront\"] = self[\"webpackChunkfront\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(40876); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","ref","staticRenderFns","createIcon","address","canvas","create","seed","toLowerCase","bgcolor","size","scale","spotcolor","props","value","undefined","mounted","setCanvas","computed","watch","v","methods","container","$refs","src","toDataURL","component","Boolean","checkAndReceiveAddress","data","newV","oldV","forwardToCustodyUi","mapActions","vars","$store","getters","variables","walletCustodyUI","target","URL","searchParams","append","window","location","href","assign","url","has","applyCurrentWalletAddress","get","addVisitedWallet","delete","history","replaceState","first","getFirstWallet","attrs","transactionInProgress","activateWalletSelection","_l","visitedWalletsDetails","wallet","key","staticClass","on","$event","selectThisWallet","_v","_s","balance","currentAddress","model","cryptoGWeiAmount","callback","$$v","expression","cryptoTransferTarget","executeCryptoTransfer","_e","GWEI_FACTOR","Math","pow","ETH_FACTOR","toWebBigInt","bi","BigNumber","toWei","from","n","multipliedBy","visitedWalletName","storageNames","components","EthAvatarIcon","CustodySelection","visitedWallets","storage","getItem","fillWalletDetails","currentWalletAddress","eth","ethereum","arrayResult","detail","getBalance","push","ensureFlag","intf","connectToNode","walletAuthDialog","amount","Crypto","send","maxGas","toString","notifySuccess","async","current","filter","a","unshift","setItem","Array","isArray","length","AsyncLocalStorage","constructor","keys","keyList","includes","localStorage","JSON","parse","stringify","removeItem","result","group","Object","currentAccessToken","setAccessToken","token","console","log","walletAddresses","bankAddress","accountAddresses","registeredBankAddresses","mainConfig","_localStorage","values","initialized","web3","Web3","custodyApi","WalletCustodyApiImpl","IOUContract","CashBankContracts","iouInstance","at","BankContract","AccountContract","initApis","_variables","ws","web3WebSocketUrl","reconnect","auto","delay","onTimeout","walletCustodyService","IOUAddress","mapAddr","deployedAt","chainId","getChainId","requireInitialized","Error","asyncAuthFunction","newWeb3","_web3","utils","isAddress","Web3CustodyFunctionProvider","currentProvider","toHex","Iban","toIban","to","iban","toAddress","iou","bankContract","accountContract","flagName","execFunc","calcEventLogUniqueId","protocol","block","transaction","String","padStart","mapAddress","Map","low","name","set","formatLog","prefix","formatEventLogActual","event","params","returnValues","Number","isInteger","parseInt","paramsTxt","map","f","join","blockNumber","transactionIndex","logIndex","sortableId","configurationOk","selectedItem","directives","rawName","drawer","walletBalance","onChangeEvt","links","icon","text","evtCount","WalletCustodySelection","ev","goToPage","newEventsCount","getWalletBalance","asArrayOf","rules","notNull","valid","$set","desc","isConfigValid","saveConfiguration","saveConfigToFile","configFile","loadConfigFromFile","download","filename","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","isValidUrl","u","error","isValidEthereumAddress","startsWith","storageName","variableDefinitions","typeof","order","blockchainExplorer","saved","getSourceOfVariables","allKeys","sort","b","$emit","config","shouldBeSaved","res","fetch","content","json","setAll","warn","message","applyVariables","getAll","origin","pathname","replace","reload","currency","decimals","bankInstance","owner","formatting","format","totalSupply","class","globalDebt","capturedBankAddress","saveBankSmartContract","createBankInstance","registeredBankDetails","bank","registered","debtFromUs","debtToUs","confirmInterbankRepayment","addRegisteredBank","_t","openInNew","type","action","open","registeredBankName","ExplA","registeredBanks","Intl","NumberFormat","minimumFractionDigits","$nextTick","getBankCurrencyFromIOU","getIOUGlobalDebt","getBankDetails","getRegisteredBankDetails","bankSmartContract","symbol","call","inst","deploy","newi","parseFloat","unsigned","balanceOf","sign","balanceSignOf","their","isBankRegistered","bankOwesTo","ownerToCheck","registerBank","confirmInterbankPayment","createNewAccount","newAccountName","accounts","account","selectedAccount","changeBalanceAmount","showTransfer","changeBalance","transferToAddress","executeTransfer","whitelistedAddress","whitelistAddress","accountAddressesName","l","getCurrency","fillAccounts","onlyAddress","arrayToProcess","getAttributeStr","find","transferOwnership","registerAccount","saveAddresses","round","credit","debit","transfer","whitelist","displayAuthenticationDialog","walletAddress","showPassword","password","authenticationError","rememberPassword","closeAuthenticationDialog","verifyAuthentication","errorMessage","ret","Promise","resolve","verify","$once","keepPassword","ok","close","scopedSlots","_u","fn","eventsSorted","id","formatted","transactionHash","proxy","resetEventsCount","events","log1","log2","localeCompare","bars","bar","refInFor","top","timeout","color","closingBar","visible","lastId","recalculateBars","els","$el","firstElementChild","el","offsetHeight","addBar","addError","opts","addConfirm","AppMenu","Configuration","BankPage","AccountsPage","EventLogs","WalletsPage","WalletPassword","Snackbars","pollingInError","lastErrorMessage","activePage","loggedIn","initializationReady","bankSmartContractReady","variablesReady","o","collectBankEvents","subscribe","fromBlock","applyWalletPasswordDialog","applySnackbars","errorCaptured","err","notifyError","Vue","Vuetify","theme","themes","light","primary","secondary","accent","info","success","warning","vuetify","store","h","App","$mount","clientId","refreshAccessToken","refreshToken","urlencoded","URLSearchParams","myHeaders","Headers","requestOptions","method","headers","redirect","statusText","silentRelogin","currentIssuer","Trusstee","createConfiguration","issuer","client_id","idp_hint","tokens","silentOIDCLogin","promise","popupLogin","popupOIDCLogin","Vuex","state","userIdentity","serviceToken","oauth2Tokens","tokenRefreshTimer","walletPasswordDialog","snackbars","bankEventsCollectedFor","mutations","setUserIdentity","identity","setActivePage","page","setOauth2Tokens","access_token","setTokenRefreshTimer","timer","clearTimeout","setVariables","setCurrentWalletAddress","setWalletPasswordDialog","instance","setSnackbar","setBankSmartContract","setBankEventsCollectedFor","struct","addEvent","found","setEventsCount","actions","commit","dispatch","setTimeout","expires_in","refresh_token","newTokens","origin_issuer","api","sessionStorage","showDialog","authenticate","func","sub","bankReceiver","allEvents","iouReceiver","email","userAccessToken","authenticated","displayWalletPasswordDialog","inits","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}